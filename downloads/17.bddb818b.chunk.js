webpackJsonp([17],{3023:function(e,t,n){"use strict";var a=n(0),r=n(1),s=(n.n(r),n(8)),i=n(15),l=n(16),o=n(21),c=n(358);t.a=Object(i.c)(function(e){return{survey:e.survey.data,loading:e.survey.loading}},{fetchSurveyByIdStart:c.b})(Object(s.c)()(function(e){return r.useEffect(function(){e.id&&e.fetchSurveyByIdStart&&e.fetchSurveyByIdStart({id:e.id,loadResults:e.loadResults},null,!0)},[e.i18n.language,e.id]),Object(o.a)(e.children,Object(l.c)(a.a({},e),"children"))}))},3431:function(e,t,n){"use strict";var a=n(0),r=n(1),s=n.n(r),i=n(3432),l=(n.n(i),n(35)),o=n(8),c=function(e){function t(t){var n=e.call(this,t)||this;return n.publicData={},n.state={},n}return a.c(t,e),t.prototype.IsArrayContains=function(e,t,n){return void 0!==e.question.items.find(function(e){return e.id===t})&&void 0!==e.votes.items.find(function(e){return e.id===n})},t.prototype.IsArrayContainsOneFieldCheck=function(e,t,n){return n?void 0!==e.question.items.find(function(e){return e.id===t}):void 0!==e.question.items.find(function(e){return e.id===t})&&e.hasOwnProperty("answer")},t.prototype.GetAnalyticsForQuestion=function(e,t,n,a){var r=this;return e.filter(function(e){return 3===a||4===a||null===n?r.IsArrayContainsOneFieldCheck(e,t,n):r.IsArrayContains(e,t,n)}).length},t.prototype.GetAnswerPercent=function(e,t){var n=0===e?0:+(100*e/t).toFixed();return n>100?100:n},t.prototype.GetQuestionCount=function(e,t){var n=this;return e.filter(function(e){return n.IsArrayContainsOneFieldCheck(e,t,1)}).length},t.prototype.WebFormResult=function(e,t){var n=this,a=e.type.items[0]?e.type.items[0].id:0;return s.a.createElement("div",{className:"answers"},e.answers&&e.answers.map(function(r,i){var l=n.GetAnalyticsForQuestion(t,e.id,r.source_id,a),o=n.GetAnswerPercent(l,n.GetQuestionCount(t,e.id)),c={width:o+"%"},u=0,d=0,m={};return[7,5].find(function(e){return e===a})&&i===e.answers.length-1&&(u=n.GetAnalyticsForQuestion(t,e.id,null,a),m={width:(d=n.GetAnswerPercent(u,n.GetQuestionCount(t,e.id)))+"%"}),s.a.createElement("div",{key:"answer"+r.id},s.a.createElement("div",{className:"answer-container"},s.a.createElement("div",{className:"answer-line"},3!==a&&4!==a?s.a.createElement("span",{className:"answer-title"},r.answer):"",s.a.createElement("span",{className:"fill-bar",style:c})),s.a.createElement("div",{className:"answer-number"},l),s.a.createElement("div",null,o+"%")),[7,5].find(function(e){return e===a})&&i===e.answers.length-1?s.a.createElement("div",{className:"answer-container"},s.a.createElement("div",{className:"answer-line"},s.a.createElement("span",{className:"answer-title"},n.props.t("yourOption")),s.a.createElement("span",{className:"fill-bar",style:m})),s.a.createElement("div",null,u),s.a.createElement("div",null,d+"%")):null)}))},t.prototype.render=function(){var e=this,t={},n={};return this.props.survey&&((t=a.f(Object.values(this.props.survey),1)[0])&&(t.questions=t.questions.sort(function(e,t){return e.weight-t.weight})),n=this.props.survey.userAnswersData),s.a.createElement(l.default,{loading:!!this.props.loading,className:"d-flex mx-auto"},n&&n.data?s.a.createElement("div",null,s.a.createElement("h1",null,this.props.t("surveyResults")),s.a.createElement("h3",null,t&&(t.title||"")),!this.state.formErrorAlert&&!this.state.formSended&&s.a.createElement("div",{className:"webform-content mt-3"},s.a.createElement("ol",{className:"question-list answer-list"},t&&t.questions&&t.questions.map(function(t){return s.a.createElement("li",{key:"question"+t.id,className:"mt-3"},s.a.createElement("div",{className:"title"},t.squestion),s.a.createElement("div",{className:"answers-block"+t.id},e.WebFormResult(t,n.data)))})))):s.a.createElement(s.a.Fragment,null))},t}(s.a.Component);t.a=Object(o.c)("survey")(c)},3432:function(e,t,n){var a=n(3433);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!1,transform:void 0};n(1053)(a,r);a.locals&&(e.exports=a.locals)},3433:function(e,t,n){(e.exports=n(1052)(!1)).push([e.i,".answer-line {\n  width: 90%;\n  background-color: #F2F4F8;\n  margin-right: 10px;\n  position: relative; }\n\n.answers .answer-container {\n  display: -webkit-flex;\n  padding: 0 0 5px 0;\n  font-size: 12px; }\n  .answers .answer-container div {\n    padding: 8px; }\n\n.fill-bar {\n  background-color: #B4DCF8; }\n\nspan.fill-bar {\n  position: absolute;\n  width: 0;\n  height: 100%;\n  opacity: 1;\n  left: 0;\n  top: 0;\n  -webkit-transition: all .5s ease-out;\n  -o-transition: all .5s ease-out;\n  transition: all .5s ease-out; }\n\nspan.answer-title {\n  position: absolute;\n  z-index: 5;\n  font-size: 12px; }\n\n.question-list.answer-list .title {\n  font-weight: bold;\n  margin-bottom: 5px; }\n",""])},388:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=(n.n(a),n(8)),s=n(15),i=n(40),l=n(43),o=n(3023),c=n(3431),u=n(24);t.default=Object(s.c)(null,{fetchMetaStart:i.b})(Object(r.c)("common")(function(e){var t=Object(r.b)("survey").t;a.useEffect(function(){e.fetchMetaStart(l.d,null,!0)},[e.location.pathname]);var n=e.match.params.slug||"epirgo",s="epirgo"===n?"":u.ministryRoutesBaseUrl+"/"+n;return a.createElement("div",{className:"container d-flex flex-column"},a.createElement("div",null,a.createElement("a",{href:s+"/survey/"+e.match.params.id,className:"back-to-form"},t("returnToSurvey"))),a.createElement(o.a,{id:e.match.params.id,loadResults:!0},a.createElement(c.a,null)))}))}});