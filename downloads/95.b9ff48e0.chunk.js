webpackJsonp([95],{1100:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),a=n(1),r=(n.n(a),n(2303)),i=n(15),s=n(40),c=n(43),l=n(3072),u=(n.n(l),n(8)),p=n(3386);e.default=Object(i.c)(null,{fetchMetaStart:s.b})(Object(u.c)("contacts")(function(t){var e=t.match.params.slug;return Object(a.useEffect)(function(){t.fetchMetaStart(o.a({},c.d,{title:t.t("contacts:contacts"),url:t.location.pathname}),null,!0),scrollTo(0,0)},[t.location.pathname]),a.createElement(r.a,{slug:e},a.createElement(p.a,{slug:e}))}))},1219:function(t,e,n){(function(e){(function(){var n,o,a,r,i,s;"undefined"!=typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:void 0!==e&&null!==e&&e.hrtime?(t.exports=function(){return(n()-i)/1e6},o=e.hrtime,r=(n=function(){var t;return 1e9*(t=o())[0]+t[1]})(),s=1e9*e.uptime(),i=r-s):Date.now?(t.exports=function(){return Date.now()-a},a=Date.now()):(t.exports=function(){return(new Date).getTime()-a},a=(new Date).getTime())}).call(this)}).call(e,n(66))},1287:function(t,e,n){(function(e){for(var o=n(1219),a="undefined"==typeof window?e:window,r=["moz","webkit"],i="AnimationFrame",s=a["request"+i],c=a["cancel"+i]||a["cancelRequest"+i],l=0;!s&&l<r.length;l++)s=a[r[l]+"Request"+i],c=a[r[l]+"Cancel"+i]||a[r[l]+"CancelRequest"+i];if(!s||!c){var u=0,p=0,f=[];s=function(t){if(0===f.length){var e=o(),n=Math.max(0,1e3/60-(e-u));u=n+e,setTimeout(function(){var t=f.slice(0);f.length=0;for(var e=0;e<t.length;e++)if(!t[e].cancelled)try{t[e].callback(u)}catch(t){setTimeout(function(){throw t},0)}},Math.round(n))}return f.push({handle:++p,callback:t,cancelled:!1}),p},c=function(t){for(var e=0;e<f.length;e++)f[e].handle===t&&(f[e].cancelled=!0)}}t.exports=function(t){return s.call(a,t)},t.exports.cancel=function(){c.apply(a,arguments)},t.exports.polyfill=function(t){t||(t=a),t.requestAnimationFrame=s,t.cancelAnimationFrame=c}}).call(e,n(30))},2123:function(t,e,n){"use strict";var o=n(0),a=n(1),r=(n.n(a),n(11)),i=(n.n(r),n(12)),s=n(19),c=n(2124),l=(n.n(c),function(t){function e(e){var n=t.call(this,e)||this;return n.onClickExpand=function(){var t=n.props,e=t.id,o=t.stepId;!n.state.active&&e&&o&&window.history.pushState("","","/situations/"+e+"/"+o),n.setState({active:!n.state.active})},n.state={active:n.props.active||!1},n}return o.c(e,t),e.prototype.render=function(){var t=this.props,e=t.title,n=t.children,c=t.mobile,l=this.state.active;return a.createElement(s.a,o.a({},this.props,{padding:0}),a.createElement("div",{className:"expand-btn"},a.createElement("div",{onClick:this.onClickExpand,className:r(["expand-btn__header",{"expand-btn__header--active":l},{mobile:c}])},a.createElement(i.a,{variant:"bodyhl",className:"expand-btn__header__title"},e),a.createElement(i.a,{variant:"bodyhl",className:"expand-btn__header__title"},l?a.createElement("i",{className:"far fa-chevron-up"}):a.createElement("i",{className:"far fa-chevron-down"}))),l&&n&&a.createElement(s.a,{padding:0,className:"expand-btn__content color_white__bg fill_w"},n)))},e}(a.Component));e.a=l},2124:function(t,e,n){var o=n(2217);"string"==typeof o&&(o=[[t.i,o,""]]);var a={hmr:!1,transform:void 0};n(1053)(o,a);o.locals&&(t.exports=o.locals)},2217:function(t,e,n){(t.exports=n(1052)(!1)).push([t.i,".expand-btn {\n  width: 100%; }\n  .expand-btn .expand-btn__header {\n    width: 100%;\n    border-radius: 4px;\n    padding: 24px;\n    display: -ms-flexbox;\n    display: flex;\n    cursor: pointer;\n    -ms-flex-pack: justify;\n        justify-content: space-between;\n    -ms-flex-align: center;\n        align-items: center;\n    background-color: #ffffff;\n    color: #151515; }\n    .expand-btn .expand-btn__header .expand-btn__header__title {\n      color: inherit; }\n  .expand-btn .expand-btn__header--active {\n    border-bottom-left-radius: 0;\n    border-bottom-right-radius: 0;\n    background-color: #1565C0;\n    color: #ffffff; }\n    .expand-btn .expand-btn__header--active.mobile {\n      padding-right: 15px !important;\n      padding-left: 15px !important;\n      margin-left: -15px;\n      margin-right: -15px;\n      width: 100vw; }\n  .expand-btn .expand-btn__content {\n    -webkit-transition: .2s all;\n    -o-transition: .2s all;\n    transition: .2s all; }\n",""])},2219:function(t,e,n){"use strict";var o=n(0),a=n(1),r=(n.n(a),n(8)),i=n(15),s=n(16),c=n(21),l=n(325);e.a=Object(i.c)(function(t){return{curators:t.curators.data,loading:t.curators.loading}},{fetchCuratorsByIdSStart:l.b,fetchCuratorByIdStart:l.a})(Object(r.c)()(function(t){return a.useEffect(function(){if(t.id&&t.fetchCuratorByIdStart)t.fetchCuratorByIdStart({id:t.id,slug:t.slug},null,!0);else if(t.ids&&t.ids.length>0&&t.fetchCuratorsByIdSStart){var e=t.ids.sort(function(t,e){return t.order-e.order}).map(function(t){return t.id});t.fetchCuratorsByIdSStart({id:e},null,!0)}},[t.i18n.language,t.id]),Object(c.a)(t.children,Object(s.c)(o.a({},t),"children"))}))},2294:function(t,e,n){"use strict";n.d(e,"c",function(){return d}),n.d(e,"d",function(){return h}),n.d(e,"b",function(){return m}),n.d(e,"a",function(){return v});var o=n(0),a=n(35),r=n(10),i=n(1),s=n.n(i),c=n(14),l=n(21),u=n(2295),p=(n.n(u),n(2298)),f=(n.n(p),n(16)),d=function(t){return t.reduce(function(t,e){var n=e.id,a=document.getElementById(n);return a?o.h(t,[[n,a.getBoundingClientRect().top]]):t},[]).sort(function(t,e){return o.f(t,2)[1]<o.f(e,2)[1]?-1:1})},h=function(t,e,n){void 0===n&&(n={});var a=o.a({},n,e),r=Object.entries(t).filter(function(t){var e=o.f(t,2)[1];return e&&e.length>0}).map(function(t){return t[0]}),i=Object(f.a)(Object.keys(n),r),s=i.reduce(function(t,e){var n;return o.a({},t,((n={})[e]=e,n))},{});return[i.map(function(t){return{id:t,label:a[t]}}),s]},m=function(t){var e=o.f(Array.from(t),1)[0],n=e?Array.from(e.querySelectorAll("a")):null;return n?n.map(function(t){return{id:t.hash.substr(1),label:t.innerText}}):[]},v=function(t){var e=t.links,n=t.loading,p=t.classNames,f=o.g(t,["links","loading","classNames"]),h=f.relative,m=f.isActive,v=f.stickyClassName,g=f.stickyStyle,y=f.topOffset,b=f.bottomOffset,_=f.onStickyStateChange,w=f.disableCompensation,E=f.disableHardwareAcceleration,M=o.g(f,["relative","isActive","stickyClassName","stickyStyle","topOffset","bottomOffset","onStickyStateChange","disableCompensation","disableHardwareAcceleration"]),x=Object(c.a)(o.a({},t,{classNames:p}),"sidenav-wrap","fill_h"),O=o.f(Object(i.useState)(""),2),S=O[0],k=O[1],C=o.f(Object(i.useState)(new Map),2),T=C[0],j=C[1],P=function(){var t=d(e),n=t.find(function(t,e,n){return!n[e]||n[e][1]>=0}),o=n?n[0]:t[t.length-1];return o&&k(o.toString()),t};return Object(i.useEffect)(function(){return P(),j(new Map(d(e))),window.addEventListener("scroll",P),function(){return window.removeEventListener("scroll",P)}},[e]),s.a.createElement(u.StickyContainer,o.a({},x),s.a.createElement(u.Sticky,o.a({},{relative:h,isActive:m,stickyClassName:v,stickyStyle:g,topOffset:y,bottomOffset:b,onStickyStateChange:_,disableCompensation:w,disableHardwareAcceleration:E},{className:"fill_h"}),function(i){var c=i.style;return s.a.createElement("div",o.a({},M,{style:c}),s.a.createElement(a.default,{loading:!!n,className:"my-5 center_h"},s.a.createElement("div",{className:"sidenav fill_h d-flex flex-column"},e.sort(function(t,e){return Number(T.get(t.id))<Number(T.get(e.id))?-1:1}).map(function(e,n){return s.a.createElement(r.a,{flat:!0,flatter:!0,cropped:!0,key:n,onClick:(o=e.id,function(e){Object(l.c)(o,y),t.onLinkClick&&t.onLinkClick(o,e)}),classNames:["sidenav__link","py-2","pl-3",{"sidenav__link--active":e.id===S}]},e.label);var o}))))}))}},2295:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StickyContainer=e.Sticky=void 0;var o=r(n(2296)),a=r(n(2297));function r(t){return t&&t.__esModule?t:{default:t}}e.Sticky=o.default,e.StickyContainer=a.default,e.default=o.default},2296:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),a=n(1),r=c(a),i=c(n(29)),s=c(n(17));function c(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var u=function(t){function e(){var t,n,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=l(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(r))),o.state={isSticky:!1,wasSticky:!1,style:{}},o.handleContainerEvent=function(t){var e=t.distanceFromTop,n=t.distanceFromBottom,a=t.eventSource,r=o.context.getParent(),i=!1;o.props.relative&&(i=a!==r,e=-(a.scrollTop+a.offsetTop)+o.placeholder.offsetTop);var s=o.placeholder.getBoundingClientRect(),c=o.content.getBoundingClientRect().height,l=n-o.props.bottomOffset-c,u=!!o.state.isSticky,p=i?u:e<=-o.props.topOffset&&n>-o.props.bottomOffset;n=(o.props.relative?r.scrollHeight-r.scrollTop:n)-c;var f=p?{position:"fixed",top:l>0?o.props.relative?r.offsetTop-r.offsetParent.scrollTop:0:l,left:s.left,width:s.width}:{};o.props.disableHardwareAcceleration||(f.transform="translateZ(0)"),o.setState({isSticky:p,wasSticky:u,distanceFromTop:e,distanceFromBottom:n,calculatedHeight:c,style:f})},l(o,n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.Component),o(e,[{key:"componentWillMount",value:function(){if(!this.context.subscribe)throw new TypeError("Expected Sticky to be mounted within StickyContainer");this.context.subscribe(this.handleContainerEvent)}},{key:"componentWillUnmount",value:function(){this.context.unsubscribe(this.handleContainerEvent)}},{key:"componentDidUpdate",value:function(){this.placeholder.style.paddingBottom=this.props.disableCompensation?0:(this.state.isSticky?this.state.calculatedHeight:0)+"px"}},{key:"render",value:function(){var t=this,e=r.default.cloneElement(this.props.children({isSticky:this.state.isSticky,wasSticky:this.state.wasSticky,distanceFromTop:this.state.distanceFromTop,distanceFromBottom:this.state.distanceFromBottom,calculatedHeight:this.state.calculatedHeight,style:this.state.style}),{ref:function(e){t.content=i.default.findDOMNode(e)}});return r.default.createElement("div",null,r.default.createElement("div",{ref:function(e){return t.placeholder=e}}),e)}}]),e}();u.propTypes={topOffset:s.default.number,bottomOffset:s.default.number,relative:s.default.bool,children:s.default.func.isRequired},u.defaultProps={relative:!1,topOffset:0,bottomOffset:0,disableCompensation:!1,disableHardwareAcceleration:!1},u.contextTypes={subscribe:s.default.func,unsubscribe:s.default.func,getParent:s.default.func},e.default=u},2297:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=n(1),i=l(r),s=l(n(17)),c=l(n(1287));function l(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var p=function(t){function e(){var t,n,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=u(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(r))),o.events=["resize","scroll","touchstart","touchmove","touchend","pageshow","load"],o.subscribers=[],o.rafHandle=null,o.subscribe=function(t){o.subscribers=o.subscribers.concat(t)},o.unsubscribe=function(t){o.subscribers=o.subscribers.filter(function(e){return e!==t})},o.notifySubscribers=function(t){if(!o.framePending){var e=t.currentTarget;o.rafHandle=(0,c.default)(function(){o.framePending=!1;var t=o.node.getBoundingClientRect(),n=t.top,a=t.bottom;o.subscribers.forEach(function(t){return t({distanceFromTop:n,distanceFromBottom:a,eventSource:e===window?document.body:o.node})})}),o.framePending=!0}},o.getParent=function(){return o.node},u(o,n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.PureComponent),a(e,[{key:"getChildContext",value:function(){return{subscribe:this.subscribe,unsubscribe:this.unsubscribe,getParent:this.getParent}}},{key:"componentDidMount",value:function(){var t=this;this.events.forEach(function(e){return window.addEventListener(e,t.notifySubscribers)})}},{key:"componentWillUnmount",value:function(){var t=this;this.rafHandle&&(c.default.cancel(this.rafHandle),this.rafHandle=null),this.events.forEach(function(e){return window.removeEventListener(e,t.notifySubscribers)})}},{key:"render",value:function(){var t=this;return i.default.createElement("div",o({},this.props,{ref:function(e){return t.node=e},onScroll:this.notifySubscribers,onTouchStart:this.notifySubscribers,onTouchMove:this.notifySubscribers,onTouchEnd:this.notifySubscribers}))}}]),e}();p.childContextTypes={subscribe:s.default.func,unsubscribe:s.default.func,getParent:s.default.func},e.default=p},2298:function(t,e,n){var o=n(2299);"string"==typeof o&&(o=[[t.i,o,""]]);var a={hmr:!1,transform:void 0};n(1053)(o,a);o.locals&&(t.exports=o.locals)},2299:function(t,e,n){(t.exports=n(1052)(!1)).push([t.i,".sidenav-wrap .sidenav .sidenav__link {\n  border-left: 1px solid #efefef;\n  color: rgba(21, 21, 21, 0.25);\n  text-align: left;\n  white-space: normal; }\n\n.sidenav-wrap .sidenav .sidenav__link--active {\n  border-width: 2px;\n  border-color: #1565C0;\n  color: #1565C0; }\n\n.section__content .mce-toc {\n  display: none; }\n",""])},2303:function(t,e,n){"use strict";var o=n(0),a=n(1),r=(n.n(a),n(8)),i=n(15),s=n(16),c=n(21),l=n(329);e.a=Object(i.c)(function(t){return{organizations:t.organizations.data,loading:t.organizations.loading,error:t.organizations.error,logo:t.header.data}},{fetchOrganizationsStart:l.f,fetchMinimalOrgDataStart:l.a,fetchOrganizationsByIdStart:l.c,fetchOrganizationsByParent:l.d})(Object(r.c)()(function(t){return a.useEffect(function(){t.id&&t.fetchOrganizationsByIdStart?t.fetchOrganizationsByIdStart({id:t.id,slug:t.slug}):t.loadMininalData&&t.slug&&t.fetchMinimalOrgDataStart?t.fetchMinimalOrgDataStart({slug:t.slug},null,!0):t.slug&&t.fetchOrganizationsStart?t.fetchOrganizationsStart({slug:t.slug},null,!0):t.parentId&&t.fetchOrganizationsByParent&&t.fetchOrganizationsByParent({id:t.parentId,slug:t.slug})},[t.i18n.language,t.slug]),Object(c.a)(t.children,Object(s.c)(o.a({},t),"children"))}))},2380:function(t,e,n){"use strict";var o=n(2294);n.d(e,"SideNav",function(){return o.a}),n.d(e,"contentLinks",function(){return o.b}),n.d(e,"getPositionEntries",function(){return o.c}),n.d(e,"parseLinks",function(){return o.d});var a=n(2381);n.n(a)},2381:function(t,e){},2558:function(t,e,n){"use strict";var o=n(1),a=(n.n(o),n(10)),r=n(32);e.a=function(t){var e=t.socialNetworks||t.data&&t.data.socialNetworks||[];return o.createElement("div",{className:"ministry-catalog-social"},e.map(function(e,n){var i=e.sm&&e.sm.items&&e.sm.items.length&&e.sm.items[0]||e.sm||{};return o.createElement(a.a,{key:n,flat:!0,flatter:!0,cropped:!0,target:"_blank",className:"p-0 ministry-catalog-social__button",href:t.isSocialMediaInRoot?e.link:e.url},o.createElement(r.default,{alt:t.isSocialMediaInRoot?e.title:e.altImage||i.name||"",src:t.isSocialMediaInRoot?e.icon||e.icon_link&&e.icon_link.icon||"":i.icon||i.icon_link&&i.icon_link.icon||"",className:"fill"}))}))}},3015:function(t,e,n){"use strict";var o=n(1),a=n.n(o),r=n(3016),i=(n.n(r),n(3017)),s=(n.n(i),n(38)),c=n(8);e.a=function(t){var e=t.mapPoint&&[t.mapPoint.lat,t.mapPoint.lon],n=Object(c.b)().i18n.language,o=void 0===n?"ru":n;return a.a.createElement(r.YMaps,{preload:!e,key:o,query:{lang:o}},a.a.createElement(s.default,{loading:!e,className:"map-wrapper"},a.a.createElement(r.Map,{state:{center:e,zoom:16,controls:[]},height:"100%",width:"100%"},a.a.createElement(r.FullscreenControl,null),a.a.createElement(r.ZoomControl,null),a.a.createElement(r.Placemark,{geometry:e,options:{iconColor:"#E69A51",preset:"islands#dotIcon"}}))))}},3016:function(t,e,n){(function(t){(function(e,n){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(this,arguments)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&function(t,e){(Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}(t,e)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}n=n&&n.hasOwnProperty("default")?n.default:n;var p="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};function f(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function d(t,e){return t(e={exports:{}},e.exports),e.exports}var h="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";function m(){}function v(){}v.resetWarningCache=m;var g=d(function(t){t.exports=function(){function t(t,e,n,o,a,r){if(r!==h){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:v,resetWarningCache:m};return n.PropTypes=n,n}()}),y="__global_unique_id__",b=function(){return p[y]=(p[y]||0)+1};function _(t){return function(){return t}}var w=function(){};w.thatReturns=_,w.thatReturnsFalse=_(!1),w.thatReturnsTrue=_(!0),w.thatReturnsNull=_(null),w.thatReturnsThis=function(){return this},w.thatReturnsArgument=function(t){return t};var E=w,M=d(function(t,e){e.__esModule=!0,r(n);var o=r(g),a=r(b);function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r(E);var l=1073741823;e.default=function(t,e){var r,u,p="__create-react-context-"+(0,a.default)()+"__",f=function(t){function n(){var e,o,a,r;i(this,n);for(var c=arguments.length,l=Array(c),u=0;u<c;u++)l[u]=arguments[u];return e=o=s(this,t.call.apply(t,[this].concat(l))),o.emitter=(a=o.props.value,r=[],{on:function(t){r.push(t)},off:function(t){r=r.filter(function(e){return e!==t})},get:function(){return a},set:function(t,e){a=t,r.forEach(function(t){return t(a,e)})}}),s(o,e)}return c(n,t),n.prototype.getChildContext=function(){var t;return(t={})[p]=this.emitter,t},n.prototype.componentWillReceiveProps=function(t){if(this.props.value!==t.value){var n=this.props.value,o=t.value,a=void 0;((r=n)===(i=o)?0!==r||1/r==1/i:r!=r&&i!=i)?a=0:(a="function"==typeof e?e(n,o):l,0!=(a|=0)&&this.emitter.set(t.value,a))}var r,i},n.prototype.render=function(){return this.props.children},n}(n.Component);f.childContextTypes=((r={})[p]=o.default.object.isRequired,r);var d=function(e){function n(){var t,o;i(this,n);for(var a=arguments.length,r=Array(a),c=0;c<a;c++)r[c]=arguments[c];return t=o=s(this,e.call.apply(e,[this].concat(r))),o.state={value:o.getValue()},o.onUpdate=function(t,e){0!=((0|o.observedBits)&e)&&o.setState({value:o.getValue()})},s(o,t)}return c(n,e),n.prototype.componentWillReceiveProps=function(t){var e=t.observedBits;this.observedBits=null==e?l:e},n.prototype.componentDidMount=function(){this.context[p]&&this.context[p].on(this.onUpdate);var t=this.props.observedBits;this.observedBits=null==t?l:t},n.prototype.componentWillUnmount=function(){this.context[p]&&this.context[p].off(this.onUpdate)},n.prototype.getValue=function(){return this.context[p]?this.context[p].get():t},n.prototype.render=function(){return(t=this.props.children,Array.isArray(t)?t[0]:t)(this.state.value);var t},n}(n.Component);return d.contextTypes=((u={})[p]=o.default.object,u),{Provider:f,Consumer:d}},t.exports=e.default});f(M);var x=f(d(function(t,e){e.__esModule=!0;var o=r(n),a=r(M);function r(t){return t&&t.__esModule?t:{default:t}}e.default=o.default.createContext||a.default,t.exports=e.default})),O=f(d(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t.displayName||t.name||("string"==typeof t&&t.length>0?t:"Unknown")}})),S=x(null),k=function(t){var e=O(t);return function(o){return n.createElement(S.Consumer,null,function(a){if(null===a){var r="Couldn't find Yandex.Maps API in the context. "+"Make sure that <".concat(e," /> is inside <YMaps /> provider");throw new Error(r)}return n.createElement(t,s({ymaps:a},o))})}},C=x(null),T=function(t){return function(e){return n.createElement(C.Consumer,null,function(o){return n.createElement(t,s({parent:o},e))})}},j={lang:"ru_RU",load:"",ns:"",mode:"release"},P={},z=function(){function t(e){a(this,t);var n=Date.now().toString(32);this.options=e,this.namespace=e.query.ns,this.onload=t.onloadCallback+"$$"+n,this.onerror=t.onerrorCallback+"$$"+n,this.api,this.promise}return i(t,[{key:"getApi",value:function(){return"undefined"!=typeof window&&this.namespace?window[this.namespace]:this.api}},{key:"setApi",value:function(t){return this.api=t}},{key:"getPromise",value:function(){return this.namespace?P[this.namespace]:this.promise}},{key:"setPromise",value:function(t){return this.namespace?P[this.namespace]=this.promise=t:this.promise=t}},{key:"load",value:function(){var e=this;if(this.getApi())return Promise.resolve(this.setApi(this.getApi()));if(this.getPromise())return this.setPromise(this.getPromise());var n=Object.assign({onload:this.onload,onerror:this.onerror},j,this.options.query),o=Object.keys(n).map(function(t){return"".concat(t,"=").concat(n[t])}).join("&"),a=[t.getBaseUrl(this.options.enterprise),this.options.version,"?"+o].join("/"),r=new Promise(function(t,n){window[e.onload]=function(n){delete window[e.onload],n.loadModule=e.loadModule.bind(e),n.ready(function(){return t(e.setApi(n))})},window[e.onerror]=function(t){delete window[e.onerror],n(t)},e.fetchScript(a).catch(window[e.onerror])});return this.setPromise(r)}},{key:"fetchScript",value:function(t){var e=this;return new Promise(function(n,o){e.script=document.createElement("script"),e.script.type="text/javascript",e.script.onload=n,e.script.onerror=o,e.script.src=t,e.script.async="async",document.head.appendChild(e.script)})}},{key:"loadModule",value:function(t){var e=this;return new Promise(function(n,o){e.getApi().modules.require(t,function(o){!function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e="string"==typeof e?e.split("."):e.slice();for(var a,r=t;e.length>1;)r[a=e.shift()]||(r[a]={}),r=r[a];r[e[0]]=!0===o&&r[e[0]]||n}(e.api,t,o,!0),n(o)},o,e.getApi())})}}]),t}();z._name="__react-yandex-maps__",z.onloadCallback="__yandex-maps-api-onload__",z.onerrorCallback="__yandex-maps-api-onerror__",z.getBaseUrl=function(t){return"https://".concat(t?"enterprise.":"","api-maps.yandex.ru")};var R=function(t){function e(t){var n;return a(this,e),(n=u(this,l(e).call(this,t))).ymaps=new z(t),n}return c(e,n.Component),i(e,[{key:"componentDidMount",value:function(){!0===this.props.preload&&this.ymaps.load()}},{key:"render",value:function(){return n.createElement(S.Provider,{value:this.ymaps},this.props.children)}}]),e}();R.defaultProps={version:"2.1",enterprise:!1,query:{lang:"ru_RU",load:"",ns:""},preload:!1};var D=function(t,e){var n={};for(var o in t)-1===e.indexOf(o)&&(n[o]=t[o]);return n};function N(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=function(r){function p(){var t;return a(this,p),(t=u(this,l(p).call(this))).state={loading:!0},t._isMounted=!1,t}return c(p,n.Component),i(p,[{key:"componentDidMount",value:function(){var t=this;this._isMounted=!0,this.props.ymaps.load().then(function(e){return Promise.all(o.concat(t.props.modules).map(e.loadModule)).then(function(){!0===t._isMounted&&t.setState({loading:!1},function(){t.props.onLoad(e)})})}).catch(function(e){!0===t._isMounted&&t.props.onError(e)})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var o=this.props.ymaps,a=this.state.loading,r=!1===e||!1===a,i=D(this.props,["onLoad","onError","modules","ymaps"]);return r&&n.createElement(t,s({ymaps:o.getApi()},i))}}]),p}();return r.defaultProps={onLoad:Function.prototype,onError:Function.prototype,modules:[]},k(r)}var A=/^on(?=[A-Z])/;function Z(t){return Object.keys(t).reduce(function(e,n){if(A.test(n)){var o=n.replace(A,"").toLowerCase();e._events[o]=t[n]}else e[n]=t[n];return e},{_events:{}})}function L(t,e,n){"function"==typeof n&&t.events.add(e,n)}function W(t,e,n){"function"==typeof n&&t.events.remove(e,n)}function B(t,e,n){Object.keys(Object.assign({},e,n)).forEach(function(o){e[o]!==n[o]&&(W(t,o,e[o]),L(t,o,n[o]))})}var I=function(t){return"default"+t.charAt(0).toUpperCase()+t.slice(1)};function F(t,e){return void 0!==t[e]||void 0===t[I(e)]}function q(t,e,n){return(F(t,e)?t[e]:t[I(e)])||n}var U=function(t){function e(){var t;return a(this,e),(t=u(this,l(e).call(this))).state={instance:null},t._parentElement=null,t._getRef=function(e){t._parentElement=e},t}return c(e,n.Component),i(e,[{key:"componentDidMount",value:function(){var t=e.mountObject(this._parentElement,this.props.ymaps.Map,this.props);this.setState({instance:t})}},{key:"componentDidUpdate",value:function(t){null!==this.state.instance&&e.updateObject(this.state.instance,t,this.props)}},{key:"componentWillUnmount",value:function(){e.unmountObject(this.state.instance,this.props)}},{key:"render",value:function(){var t=e.getParentElementSize(this.props),o=Z(this.props),a=D(o,["_events","state","defaultState","options","defaultOptions","instanceRef","ymaps","children","width","height","style","className"]);return n.createElement(C.Provider,{value:this.state.instance},n.createElement("div",s({ref:this._getRef},t,a),this.props.children))}}],[{key:"getParentElementSize",value:function(t){var e=t.width,n=t.height,o=t.style,a=t.className;return void 0!==o||void 0!==a?Object.assign({},o&&{style:o},a&&{className:a}):{style:{width:e,height:n}}}},{key:"mountObject",value:function(t,e,n){var o=Z(n),a=o.instanceRef,r=o._events,i=new e(t,q(n,"state"),q(n,"options"));return Object.keys(r).forEach(function(t){return L(i,t,r[t])}),"function"==typeof a&&a(i),i}},{key:"updateObject",value:function(t,e,n){var o=Z(n),a=o._events,r=o.instanceRef,i=Z(e),s=i._events,c=i.instanceRef;if(F(n,"state")){var l=q(e,"state",{}),u=q(n,"state",{});l.type!==u.type&&t.setType(u.type),l.behaviors!==u.behaviors&&(l.behaviors&&t.behaviors.disable(l.behaviors),u.behaviors&&t.behaviors.enable(u.behaviors)),l.zoom!==u.zoom&&t.setZoom(u.zoom),l.center!==u.center&&t.setCenter(u.center),u.bounds&&l.bounds!==u.bounds&&t.setBounds(u.bounds)}if(F(n,"options")){var p=q(e,"options"),f=q(n,"options",{});p!==f&&t.options.set(f)}q(e,"width")===q(n,"width")&&q(e,"height")===q(n,"height")||t.container.fitToViewport(),B(t,s,a),c!==r&&("function"==typeof c&&c(null),"function"==typeof r&&r(t))}},{key:"unmountObject",value:function(t,e){var n=Z(e),o=n.instanceRef,a=n._events;null!==t&&(Object.keys(a).forEach(function(e){return W(t,e,a[e])}),t.destroy(),"function"==typeof o&&o(null))}}]),e}();U.defaultProps={width:320,height:240};var H=N(U,!0,["Map"]),Y=T(N(function(t){function e(){var t;return a(this,e),(t=u(this,l(e).call(this))).state={instance:null},t}return c(e,n.Component),i(e,[{key:"componentDidMount",value:function(){var t=e.mountObject(this.props.ymaps.Clusterer,this.props);this.setState({instance:t})}},{key:"componentDidUpdate",value:function(t){null!==this.state.instance&&e.updateObject(this.state.instance,t,this.props)}},{key:"componentWillUnmount",value:function(){e.unmountObject(this.state.instance,this.props)}},{key:"render",value:function(){return n.createElement(C.Provider,{value:this.state.instance},this.props.children)}}],[{key:"mountObject",value:function(t,e){var n=Z(e),o=n.instanceRef,a=n.parent,r=n._events,i=new t(q(e,"options"));if(Object.keys(r).forEach(function(t){return L(i,t,r[t])}),a.geoObjects&&"function"==typeof a.geoObjects.add)a.geoObjects.add(i);else{if(!a.add||"function"!=typeof a.add)throw new Error("No parent found to mount Clusterer");a.add(i)}return"function"==typeof o&&o(i),i}},{key:"updateObject",value:function(t,e,n){var o=Z(n),a=o._events,r=o.instanceRef,i=Z(e),s=i._events,c=i.instanceRef;if(F(n,"options")){var l=q(e,"options"),u=q(n,"options");l!==u&&t.options.set(u)}B(t,s,a),c!==r&&("function"==typeof c&&c(null),"function"==typeof r&&r(t))}},{key:"unmountObject",value:function(t,e){var n=Z(e),o=n.instanceRef,a=n.parent,r=n._events;null!==t&&(Object.keys(r).forEach(function(e){return W(t,e,r[e])}),a.geoObjects&&"function"==typeof a.geoObjects.remove?a.geoObjects.remove(t):a.remove&&"function"==typeof a.remove&&a.remove(t),"function"==typeof o&&o(null))}}]),e}(),!0,["Clusterer"])),$=T(N(function(t){function e(){var t;return a(this,e),(t=u(this,l(e).call(this))).state={instance:null},t}return c(e,n.Component),i(e,[{key:"componentDidMount",value:function(){var t=e.mountObject(this.props.ymaps.ObjectManager,this.props);this.setState({instance:t})}},{key:"componentDidUpdate",value:function(t){null!==this.state.instance&&e.updateObject(this.state.instance,t,this.props)}},{key:"componentWillUnmount",value:function(){e.unmountObject(this.state.instance,this.props)}},{key:"render",value:function(){return null}}],[{key:"mountObject",value:function(t,e){var n=Z(e),o=n.instanceRef,a=n.parent,r=n._events,i=q(e,"options"),s=q(e,"features"),c=q(e,"filter"),l=q(e,"objects"),u=q(e,"clusters"),p=new t(i);if(p.add(s||[]),p.setFilter(c),p.objects.options.set(l),p.clusters.options.set(u),Object.keys(r).forEach(function(t){return L(p,t,r[t])}),a.geoObjects&&"function"==typeof a.geoObjects.add)a.geoObjects.add(p);else{if(!a.add||"function"!=typeof a.add)throw new Error("No parent found to mount ObjectManager");a.add(p)}return"function"==typeof o&&o(p),p}},{key:"updateObject",value:function(t,e,n){var o=Z(n),a=o._events,r=o.instanceRef,i=Z(e),s=i._events,c=i.instanceRef;if(F(n,"options")){var l=q(e,"options"),u=q(n,"options");l!==u&&t.options.set(u)}if(F(n,"objects")){var p=q(e,"objects"),f=q(n,"objects");p!==f&&t.objects.options.set(f)}if(F(n,"clusters")){var d=q(e,"clusters"),h=q(n,"clusters");d!==h&&t.clusters.options.set(h)}if(F(n,"filter")){var m=q(e,"filter"),v=q(n,"filter");m!==v&&t.options.set(v)}if(F(n,"features")){var g=q(e,"features"),y=q(n,"features");g!==y&&(t.remove(g),t.add(y))}B(t,s,a),c!==r&&("function"==typeof c&&c(null),"function"==typeof r&&r(t))}},{key:"unmountObject",value:function(t,e){var n=Z(e),o=n.instanceRef,a=n.parent,r=n._events;null!==t&&(Object.keys(r).forEach(function(e){return W(t,e,r[e])}),a.geoObjects&&"function"==typeof a.geoObjects.remove?a.geoObjects.remove(t):a.remove&&"function"==typeof a.remove&&a.remove(t),"function"==typeof o&&o(null))}}]),e}(),!0,["ObjectManager"])),X=function(t){function e(){var t;return a(this,e),(t=u(this,l(e).call(this))).state={instance:null},t}return c(e,n.Component),i(e,[{key:"componentDidMount",value:function(){var t=this;this.props.ymaps.panorama.isSupported()&&e.mountObject(this.props.ymaps.panorama,this.props).then(function(e){return t.setState({instance:e})})}},{key:"componentDidUpdate",value:function(t){null!==this.state.instance&&e.updateObject(this.state.instance,t,this.props)}},{key:"componentWillUnmount",value:function(){e.unmountObject(this.state.instance,this.props)}},{key:"render",value:function(){var t=e.getParentElementSize(this.props);return n.createElement("div",s({id:"player"},t))}}],[{key:"getParentElementSize",value:function(t){var e=t.width,n=t.height,o=t.style,a=t.className;return void 0!==o||void 0!==a?Object.assign({},o&&{style:o},a&&{className:a}):{style:{width:e,height:n}}}},{key:"mountObject",value:function(t,e){var n=Z(e),o=n.instanceRef,a=n._events,r=q(e,"coordinates"),i=q(e,"options");return new Promise(function(e,n){t.locate(r).done(function(n){if(n.length>0){var r=new t.Player("player",n[0],i);"function"==typeof o&&o(r),Object.keys(a).forEach(function(t){return L(r,t,a[t])}),e(r)}},function(){n()})})}},{key:"updateObject",value:function(t,e,n){var o=Z(n),a=o._events,r=o.instanceRef,i=Z(e),s=i._events,c=i.instanceRef;if(F(n,"options")){var l=q(e,"options"),u=q(n,"options");l!==u&&t.options.set(u)}B(t,s,a),c!==r&&("function"==typeof c&&c(null),"function"==typeof r&&r(t))}},{key:"unmountObject",value:function(t,e){var n=Z(e),o=n.instanceRef,a=n._events;null!==t&&(Object.keys(a).forEach(function(e){return W(t,e,a[e])}),"function"==typeof o&&o(null))}}]),e}(),V=T(N(X,!0,["panorama.isSupported","panorama.locate","panorama.createPlayer","panorama.Player"]));X.defaultProps={width:320,height:240};var G=function(t){function e(){var t;return a(this,e),(t=u(this,l(e).call(this))).state={instance:null},t}return c(e,n.Component),i(e,[{key:"componentDidMount",value:function(){var t=this.props,n=t.name,o=t.dangerZone,a=t.ymaps,r=e.mountObject(o&&o.modifyConstructor?o.modifyConstructor(a[n]):a[n],this.props);this.setState({instance:r})}},{key:"componentDidUpdate",value:function(t){null!==this.state.instance&&e.updateObject(this.state.instance,t,this.props)}},{key:"componentWillUnmount",value:function(){e.unmountObject(this.state.instance,this.props)}},{key:"render",value:function(){return null}}],[{key:"mountObject",value:function(t,e){var n=Z(e),o=n.instanceRef,a=n.parent,r=n._events,i=new t(q(e,"geometry"),q(e,"properties"),q(e,"options"));if(Object.keys(r).forEach(function(t){return L(i,t,r[t])}),a&&a.geoObjects&&"function"==typeof a.geoObjects.add)a.geoObjects.add(i);else{if(!a||!a.add||"function"!=typeof a.add)throw new Error("No parent found to mount ".concat(e.name));a.add(i)}return"function"==typeof o&&o(i),i}},{key:"updateObject",value:function(t,e,n){var a=Z(n),r=a._events,i=a.instanceRef,s=Z(e),c=s._events,l=s.instanceRef;if(F(n,"geometry")){var u=q(e,"geometry",{}),p=q(n,"geometry",{});Array.isArray(p)&&p!==u?Array.isArray(p[0])&&"number"==typeof p[1]?(t.geometry.setCoordinates(p[0]),t.geometry.setRadius(p[1])):t.geometry.setCoordinates(p):"object"===o(p)&&(p.coordinates!==u.coordinates&&t.geometry.setCoordinates(p.coordinates),p.radius!==u.radius&&t.geometry.setRadius(p.radius))}if(F(n,"properties")){var f=q(e,"properties"),d=q(n,"properties");f!==d&&t.properties.set(d)}if(F(n,"options")){var h=q(e,"options"),m=q(n,"options");h!==m&&t.options.set(m)}B(t,c,r),l!==i&&("function"==typeof l&&l(null),"function"==typeof i&&i(t))}},{key:"unmountObject",value:function(t,e){var n=Z(e),o=n.instanceRef,a=n.parent,r=n._events;null!==t&&(Object.keys(r).forEach(function(e){return W(t,e,r[e])}),a.geoObjects&&"function"==typeof a.geoObjects.remove?a.geoObjects.remove(t):a.remove&&"function"==typeof a.remove&&a.remove(t),"function"==typeof o&&o(null))}}]),e}();function K(t,e,o){return T(N(function(e){return n.createElement(G,s({name:t,dangerZone:o?{modifyConstructor:o}:void 0},e))},!0,[t]))}g.shape({type:g.oneOf(["Point","LineString","Rectangle","Polygon","Circle"]).isRequired,coordinates:g.oneOfType([g.arrayOf(g.number),g.arrayOf(g.arrayOf(g.number)),g.arrayOf(g.arrayOf(g.arrayOf(g.number)))]).isRequired,radius:g.number});var J=K("GeoObject",0,function(t){var e=t;function n(t,n,o){e.call(this,{geometry:t,properties:n},o)}return n.prototype=t.prototype,n}),Q=(g.arrayOf(g.oneOfType([g.number,g.arrayOf(g.number)])),K("Circle")),tt=(g.arrayOf(g.number),K("Placemark")),et=(g.arrayOf(g.arrayOf(g.arrayOf(g.number))),K("Polygon")),nt=(g.arrayOf(g.arrayOf(g.number)),K("Polyline")),ot=(g.arrayOf(g.arrayOf(g.number)),K("Rectangle")),at=function(t){function e(){var t;return a(this,e),(t=u(this,l(e).call(this))).state={instance:null},t}return c(e,n.Component),i(e,[{key:"componentDidMount",value:function(){var t=e.mountControl(this.props.ymaps.control[this.props.name],this.props);this.setState({instance:t})}},{key:"componentDidUpdate",value:function(t){null!==this.state.instance&&e.updateControl(this.state.instance,t,this.props)}},{key:"componentWillUnmount",value:function(){e.unmountControl(this.state.instance,this.props)}},{key:"render",value:function(){return n.createElement(C.Provider,{value:this.state.instance},this.props.children)}}],[{key:"mountControl",value:function(t,e){var n=Z(e),o=n.instanceRef,a=n.parent,r=n.lazy,i=n._events,s=new t({data:q(e,"data"),options:q(e,"options"),state:q(e,"state"),mapTypes:q(e,"mapTypes"),lazy:r});if(Object.keys(i).forEach(function(t){return L(s,t,i[t])}),a&&a.controls&&"function"==typeof a.controls.add)a.controls.add(s);else{if(!a||!a.add||"function"!=typeof a.add)throw new Error("No parent found to mount ".concat(e.name));a.add(s)}return"function"==typeof o&&o(s),s}},{key:"updateControl",value:function(t,e,n){var o=Z(n),a=o._events,r=o.instanceRef,i=Z(e),s=i._events,c=i.instanceRef;if(F(n,"options")){var l=q(e,"options"),u=q(n,"options");l!==u&&t.options.set(u)}if(F(n,"data")){var p=q(e,"data"),f=q(n,"data");p!==f&&t.data.set(f)}if(F(n,"state")){var d=q(e,"state"),h=q(n,"state");d!==h&&t.state.set(h)}if(F(n,"mapTypes")){var m=q(e,"mapTypes"),v=q(n,"mapTypes");m!==v&&(t.removeAllMapTypes(),v.forEach(function(e){return t.addMapType(e)}))}B(t,s,a),c!==r&&("function"==typeof c&&c(null),"function"==typeof r&&r(t))}},{key:"unmountControl",value:function(t,e){var n=Z(e),o=n.instanceRef,a=n.parent,r=n._events;null!==t&&(Object.keys(r).forEach(function(e){return W(t,e,r[e])}),a.controls&&"function"==typeof a.controls.remove?a.controls.remove(t):a.remove&&"function"==typeof a.remove&&a.remove(t),"function"==typeof o&&o(null))}}]),e}();function rt(t,e){return T(N(function(e){return n.createElement(at,s({name:t},e))},!0,["control.".concat(t)]))}var it=rt("Button"),st=rt("FullscreenControl"),ct=rt("GeolocationControl"),lt=rt("ListBox"),ut=rt("ListBoxItem"),pt=rt("RouteButton"),ft=rt("RouteEditor"),dt=rt("RoutePanel"),ht=rt("RulerControl"),mt=rt("SearchControl"),vt=rt("TrafficControl"),gt=rt("TypeSelector"),yt=rt("ZoomControl");e.Button=it,e.Circle=Q,e.Clusterer=Y,e.FullscreenControl=st,e.GeoObject=J,e.GeolocationControl=ct,e.ListBox=lt,e.ListBoxItem=ut,e.Map=H,e.ObjectManager=$,e.Panorama=V,e.Placemark=tt,e.Polygon=et,e.Polyline=nt,e.Rectangle=ot,e.RouteButton=pt,e.RouteEditor=ft,e.RoutePanel=dt,e.RulerControl=ht,e.SearchControl=mt,e.TrafficControl=vt,e.TypeSelector=gt,e.YMaps=R,e.ZoomControl=yt,e.withYMaps=N,Object.defineProperty(e,"__esModule",{value:!0})})(e,n(1))}).call(e,n(30))},3017:function(t,e,n){var o=n(3018);"string"==typeof o&&(o=[[t.i,o,""]]);var a={hmr:!1,transform:void 0};n(1053)(o,a);o.locals&&(t.exports=o.locals)},3018:function(t,e,n){(t.exports=n(1052)(!1)).push([t.i,".map-wrapper {\n  height: 312px;\n  width: 100%;\n  margin: 0; }\n  .map-wrapper .section__content {\n    height: 312px;\n    width: 100%; }\n\n[class*=\"ymaps-2\"][class*=\"-ground-pane\"] {\n  filter: url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg'><filter id='grayscale'><feColorMatrix type='matrix' values='0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0'/></filter></svg>#grayscale\");\n  /* Firefox 3.5+ */\n  -webkit-filter: grayscale(100%);\n  /* Chrome 19+ & Safari 6+ */ }\n\n@media screen and (max-width: 768px) {\n  .map-wrapper {\n    height: 194px;\n    width: 100%;\n    margin: 0; }\n    .map-wrapper .section__content {\n      height: 194px;\n      width: 100%; } }\n",""])},3072:function(t,e,n){var o=n(3385);"string"==typeof o&&(o=[[t.i,o,""]]);var a={hmr:!1,transform:void 0};n(1053)(o,a);o.locals&&(t.exports=o.locals)},3073:function(t,e,n){"use strict";var o=n(0),a=n(1),r=(n.n(a),n(44)),i=n(19),s=n(3387),c=n(12),l=n(8);e.a=Object(l.c)("common")(function(t){var e=t.curators||{},n=t.curatorsIds||[];return a.createElement(i.a,o.a({},t,{padding:0,classNames:"fill_w pl-3"}),0!==n.length?a.createElement(a.Fragment,null,a.createElement("div",{className:"row mt-2 d-none d-md-flex"},a.createElement("div",{className:"col-md-5"},a.createElement(c.a,{variant:"bodysubbold"},t.t("common:fullNameAndPosition"))),a.createElement("div",{className:"col-md-3"},a.createElement(c.a,{variant:"bodysubbold"},t.t("common:phoneNumber"))),a.createElement("div",{className:"col-md-4"},a.createElement(c.a,{variant:"bodysubbold"},t.t("common:emailAddress")))),a.createElement(r.a,{divider:!0},n.map(function(n,o){return e[n.id]?a.createElement(s.a,{key:o,id:n.id,slug:t.slug,padding:0,fullName:e[n.id].lastnameInitials,phone:e[n.id].phoneNumber,email:e[n.id].email,position:e[n.id].position}):a.createElement(c.a,{variant:"p",key:o})}))):a.createElement(c.a,{variant:"body",className:"py-2"},t.t("common:noData")))})},3385:function(t,e,n){(t.exports=n(1052)(!1)).push([t.i,".ministry-contacts-page .contacts-collapse .expand-btn__header {\n  padding: 16px;\n  border: 1px solid rgba(21, 21, 21, 0.12); }\n\n.ministry-contacts-page .contacts-collapse .expand-btn__header--active {\n  background: #F2F4F8;\n  border: none; }\n  .ministry-contacts-page .contacts-collapse .expand-btn__header--active .expand-btn__header__title {\n    color: #1565C0; }\n\n.ministry-contacts-page .contacts-collapse .expand-btn__content {\n  border: 1px solid rgba(21, 21, 21, 0.12);\n  border-top-right-radius: 0;\n  border-top-left-radius: 0;\n  border-top: none; }\n\n.ministry-contacts-page .section__header-external-link {\n  color: #1565C0;\n  font-size: 1rem;\n  white-space: normal; }\n\n.ministry-contacts-page .side-nav-offset {\n  top: 80px !important; }\n",""])},3386:function(t,e,n){"use strict";var o=n(0),a=n(1),r=(n.n(a),n(3073)),i=n(3015),s=n(35),c=n(2123),l=n(2219),u=n(3390),p=n(3072),f=(n.n(p),n(8)),d=n(20),h=(n.n(d),n(97)),m=n(3391),v=n(3392),g=n(318),y=n(2558),b=n(11),_=n.n(b),w=n(2380),E=n(12),M=n(10);e.a=Object(f.c)(["contacts","ministry"])(function(t){var e=t.slug,n=Object(f.b)().i18n.language,p=void 0===n?"ru":n,b=e.startsWith("mfa-")?"ru":p,x=Object(h.useQueryWithLang)(m.a,{variables:{eqSlug:"eq:"+e,eqLang:""+b}}),O=x.data,S=void 0===O?{contacts_page:[],socialNetworks:[]}:O,k=x.loading,C=t.organizations&&t.organizations[e]||{},T=C&&C.type&&C.type.id||g.b.Ministry,j=Object(g.e)(T,e)?""+t.t("ministry:structure.embassy"):""+t.t("contacts:leadershipMinistry"),P=C&&C.map_point,z=C&&C.mapType,R=C.employeeDict,D=R&&R.title,N=R&&"documents/details/"+R.id,A=!k&&S&&S.contacts_page.length>0&&S.contacts_page[0]&&S.contacts_page[0].organisations||[],Z=A.reduce(function(t,e){var n=t[e.type.id]?t[e.type.id]:[];return t[e.type.id]=o.h(n,[e]),t},{}),L=A.map(function(t){return t.type}).sort(function(t,e){return t.priority-e.priority}),W=o.h(new Set(L)).reduce(function(t,e){var n=Z[e.id].sort(function(t,e){return t.order-e.order});return t=o.h(t,n)},[]),B=[];return C.contacts&&B.push({id:"ctct_1",label:t.t("contacts:mainContacts")}),S&&S.socialNetworks.length>0&&B.push({id:"ctct_2",label:t.t("contacts:socialNetworks")}),P&&B.push({id:"ctct_3",label:t.t("contacts:onTheMap")}),C.allCurators&&C.allCurators.length>0&&B.push({id:"ctct_4",label:t.t("contacts:detailInformation")}),a.createElement("div",{className:"container ministry-contacts-page"},C?a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-9"},C.contacts&&a.createElement("div",null,a.createElement(E.a,{id:"ctct_1",variant:"h2",className:"my-4"},t.t("contacts:contacts")),a.createElement("div",{className:"fill_w contacts inner-html",dangerouslySetInnerHTML:{__html:C.contacts}})),D&&a.createElement("div",null,a.createElement(M.a,{flat:!0,flatter:!0,cropped:!0,to:N,classNames:"section__header-external-link"},a.createElement("i",{className:"fas fa-file-alt mr-1"}),D)),S&&S.socialNetworks.length>0&&a.createElement("div",null,a.createElement(E.a,{id:"ctct_2",variant:"h3",className:"my-4"},t.t("contacts:socialNetworks")),a.createElement(y.a,{socialNetworks:S.socialNetworks})),P&&a.createElement("div",null,a.createElement(E.a,{id:"ctct_3",variant:"h3",className:"my-4"},t.t("contacts:onTheMap")),a.createElement("div",null,"yandex"==z&&a.createElement(i.a,{mapPoint:P}),"google"==z&&a.createElement(v.a,{mapPoint:P}))),C.allCurators&&C.allCurators.length>0&&a.createElement("div",{className:"ministry-contacts-page__details mt-2"},a.createElement(E.a,{id:"ctct_4",variant:"h3",className:"my-4"},t.t("contacts:detailInformation")),a.createElement("div",{className:"d-flex flex-column contacts-collapse"},a.createElement(c.a,{title:j,classNames:"mb-3"},a.createElement(s.default,{loading:Boolean(t.loading)},a.createElement(l.a,{ids:C.allCurators},a.createElement(r.a,{curatorsIds:C.allCurators,slug:e})))),a.createElement(s.default,{loading:k},a.createElement(u.a,{data:W,slug:e}))))),!d.isMobileOnly&&a.createElement("div",{className:_()("col-md-3 mt-4",{"mb-3":d.isMobileOnly})},a.createElement(w.SideNav,{className:d.isMobile?"":"side-nav-offset",topOffset:d.isMobile?20:80,links:B}))):a.createElement("div",null,t.t("common:noData")))})},3387:function(t,e,n){"use strict";var o=n(1),a=(n.n(o),n(19)),r=n(3388),i=(n.n(r),n(12)),s=n(8),c=n(10),l=n(24);e.a=Object(s.c)("common")(function(t){return o.createElement(a.a,{padding:0,className:"fill_w py-3"},o.createElement("div",{className:"row align-items-start"},o.createElement("div",{className:"col-md-5 d-flex flex-column"},o.createElement(c.a,{flat:!0,flatter:!0,cropped:!0,className:"p-0 mr-auto",to:l.ministryRoutesBaseUrl+"/"+t.slug+"/about/structure/people/"+t.id},t.fullName),o.createElement(i.a,{className:"mt-2",variant:"bodysubreg"},t.position)),o.createElement("div",{className:"col-md-3 pt-4"},o.createElement(i.a,{variant:"bodysubreg"},t.phone)),t.email&&o.createElement("div",{className:"col-md-4 pt-4"},o.createElement(i.a,{variant:"bodysubreg"},t.email))))})},3388:function(t,e,n){var o=n(3389);"string"==typeof o&&(o=[[t.i,o,""]]);var a={hmr:!1,transform:void 0};n(1053)(o,a);o.locals&&(t.exports=o.locals)},3389:function(t,e,n){(t.exports=n(1052)(!1)).push([t.i,"",""])},3390:function(t,e,n){"use strict";var o=n(1),a=(n.n(o),n(2124)),r=(n.n(a),n(2123)),i=n(19),s=n(3073);e.a=function(t){var e=t.data;return e?o.createElement(i.a,{padding:0,color:"gray",className:"d-flex flex-column"},Object.values(e).map(function(e){var n,a=e;if(!a.supervisor)return null;var i={id:a.supervisor.id,lastnameInitials:a.supervisor.lastname_initials,email:a.supervisor.email,phoneNumber:a.supervisor.phone,position:a.supervisor.position,photo:"",positionLevel:"",blogPage:"",name:"",middlename:"",lastname:"",supervisedAreas:[],soonReception:"",receptionTimes:[],receptionHours:[],schedule:[]},c=((n={})[a.supervisor.id]=i,n);return o.createElement(r.a,{key:e.id,className:"mb-3",title:e.long_name},o.createElement(s.a,{curators:c,curatorsIds:[{order:0,id:a.supervisor.id}],slug:t.slug}))})):o.createElement(o.Fragment,null)}},3391:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var o,a=n(0),r=n(42),i=Object(r.c)(o||(o=a.e(['\n  query ContactsPageData($eqSlug: String!, $eqLang: String!) {\n    contacts_page(projects: $eqSlug) {\n      organisations(_size: 100) {\n        contacts\n        long_name\n        order\n        supervisor {\n          id\n          lastname_initials\n          phone\n          email\n          position\n        }\n        type {\n          id\n          priority\n        }\n      }\n    }\n    socialNetworks: social_media(projects: $eqSlug, _sort: "order:asc", _lang: $eqLang) {\n      id\n      title\n      url\n      altImage: alt_image\n      sm(_lang: $eqLang) {\n        icon\n        name\n      }\n    }\n  }\n'],['\n  query ContactsPageData($eqSlug: String!, $eqLang: String!) {\n    contacts_page(projects: $eqSlug) {\n      organisations(_size: 100) {\n        contacts\n        long_name\n        order\n        supervisor {\n          id\n          lastname_initials\n          phone\n          email\n          position\n        }\n        type {\n          id\n          priority\n        }\n      }\n    }\n    socialNetworks: social_media(projects: $eqSlug, _sort: "order:asc", _lang: $eqLang) {\n      id\n      title\n      url\n      altImage: alt_image\n      sm(_lang: $eqLang) {\n        icon\n        name\n      }\n    }\n  }\n'])))},3392:function(t,e,n){"use strict";var o=n(1),a=(n.n(o),n(3393));e.a=function(t){var e=t.mapPoint,n=void 0===e?{lat:0,lon:0}:e,r=n.lat,i=n.lon;return o.createElement(a.a,{height:312,defaultCenter:[r,i],defaultZoom:16},o.createElement(a.b,{width:50,anchor:[r,i]}))}},3393:function(t,e,n){"use strict";n.d(e,"a",function(){return R}),n.d(e,"b",function(){return D});var o=n(1),a=n.n(o);function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,o)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach(function(e){r(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function c(t,e){for(;t;){if(t.classList&&t.classList.contains(e))return!0;t=t.parentElement}return!1}function l(t){var e=t.getBoundingClientRect();return{x:e.left,y:e.top}}function u(t,e,n){return"https://"+String.fromCharCode(97+(t+e+n)%3)+".tile.openstreetmap.org/"+n+"/"+t+"/"+e+".png"}var p=300,f=1500,d=150,h=40,m=2,v=300,g=60,y=300,b=300,_=function(){return!0},w=function(t,e){return(t+180)/360*Math.pow(2,e)},E=function(t,e){return(1-Math.log(Math.tan(t*Math.PI/180)+1/Math.cos(t*Math.PI/180))/Math.PI)/2*Math.pow(2,e)};function M(t,e){return t/Math.pow(2,e)*360-180}function x(t,e){var n=Math.PI-2*Math.PI*t/Math.pow(2,e);return 180/Math.PI*Math.atan(.5*(Math.exp(n)-Math.exp(-n)))}function O(t,e){var n=l(t);return[e.clientX-n.x,e.clientY-n.y]}var S,k=[x(Math.pow(2,10),10),x(0,10),M(0,10),M(Math.pow(2,10),10)],C="undefined"!=typeof window,T=C&&window.performance&&window.performance.now?function(){return window.performance.now()}:(S=(new Date).getTime(),function(){return(new Date).getTime()-S}),j=function(t){return C?(window.requestAnimationFrame||window.setTimeout)(t):(t((new Date).getTime()),null)},P=function(t){return!(!C||!t)&&(window.cancelAnimationFrame||window.clearTimeout)(t)};function z(t,e,n,o,a){return t&&0!==t.length?t.map(function(t){return e(n,o,a,t)+(1===t?"":" "+t+"x")}).join(", "):""}var R=function(t){var e,n;function o(e){var n,o,a,r,i,s,l,u,S,C,z,R;return(S=t.call(this,e)||this)._dragStart=null,S._mouseDown=!1,S._moveEvents=[],S._lastClick=null,S._lastTap=null,S._lastWheel=null,S._touchStartPixel=null,S._touchStartMidPoint=null,S._touchStartDistance=null,S._secondTouchEnd=null,S._warningClearTimeout=null,S._isAnimating=!1,S._animationStart=null,S._animationEnd=null,S._zoomStart=null,S._centerTarget=null,S._zoomTarget=null,S._zoomAround=null,S._animFrame=null,S._boundsSynced=!1,S._minMaxCache=null,S._resizeObserver=null,S.updateWidthHeight=function(){if(S._containerRef){var t=S._containerRef.getBoundingClientRect();if(t&&t.width>0&&t.height>0)return S.setState({width:t.width,height:t.height}),!0}return!1},S.wa=function(){var t;return(t=window).addEventListener.apply(t,arguments)},S.wr=function(){var t;return(t=window).removeEventListener.apply(t,arguments)},S.bindMouseEvents=function(){S.wa("mousedown",S.handleMouseDown),S.wa("mouseup",S.handleMouseUp),S.wa("mousemove",S.handleMouseMove)},S.bindTouchEvents=function(){S.wa("touchstart",S.handleTouchStart,{passive:!1}),S.wa("touchmove",S.handleTouchMove,{passive:!1}),S.wa("touchend",S.handleTouchEnd,{passive:!1})},S.unbindMouseEvents=function(){S.wr("mousedown",S.handleMouseDown),S.wr("mouseup",S.handleMouseUp),S.wr("mousemove",S.handleMouseMove)},S.unbindTouchEvents=function(){S.wr("touchstart",S.handleTouchStart),S.wr("touchmove",S.handleTouchMove),S.wr("touchend",S.handleTouchEnd)},S.bindResizeEvent=function(){S.wa("resize",S.updateWidthHeight)},S.unbindResizeEvent=function(){S.wr("resize",S.updateWidthHeight)},S.bindWheelEvent=function(){S._containerRef&&S._containerRef.addEventListener("wheel",S.handleWheel,{passive:!1})},S.unbindWheelEvent=function(){S._containerRef&&S._containerRef.removeEventListener("wheel",S.handleWheel)},S.setCenterZoomTarget=function(t,e,n,o,a){if(void 0===n&&(n=!1),void 0===o&&(o=null),void 0===a&&(a=p),S.props.animate&&(!n||S.distanceInScreens(t,e,S.state.center,S.state.zoom)<=S.props.animateMaxScreens)){if(S._isAnimating){P(S._animFrame);var r=S.animationStep(T()),i=r.centerStep,s=r.zoomStep;S._centerStart=i,S._zoomStart=s}else S._isAnimating=!0,S._centerStart=S.limitCenterAtZoom([S._lastCenter[0],S._lastCenter[1]],S._lastZoom),S._zoomStart=S._lastZoom,S.onAnimationStart();S._animationStart=T(),S._animationEnd=S._animationStart+a,o?(S._zoomAround=o,S._centerTarget=S.calculateZoomCenter(S._lastCenter,o,S._lastZoom,e)):(S._zoomAround=null,S._centerTarget=t),S._zoomTarget=e,S._animFrame=j(S.animate)}else if(S.stopAnimating(),o){var c=S.calculateZoomCenter(S._lastCenter,o,S._lastZoom,e);S.setCenterZoom(c,e,n)}else S.setCenterZoom(t||S.state.center,e,n)},S.setCenterZoomForChildren=function(t,e){S.setCenterZoomTarget(t||S.state.center,e||S.state.zoom,!0)},S.distanceInScreens=function(t,e,n,o){var a=S.state,r=a.width,i=a.height,s=S.latLngToPixel(n,n,o),c=S.latLngToPixel(t,n,o),l=S.latLngToPixel(n,n,e),u=S.latLngToPixel(t,n,e),p=(Math.abs(s[0]-c[0])+Math.abs(l[0]-u[0]))/2/r,f=(Math.abs(s[1]-c[1])+Math.abs(l[1]-u[1]))/2/i;return Math.sqrt(p*p+f*f)},S.animationStep=function(t){if(!(S._animationEnd&&S._animationStart&&S._zoomTarget&&S._zoomStart&&S._centerStart&&S._centerTarget))return{centerStep:S.state.center,zoomStep:S.state.zoom};var e,n=S._animationEnd-S._animationStart,o=Math.max(t-S._animationStart,0),a=(e=o/n)*(2-e),r=(S._zoomTarget-S._zoomStart)*a,i=S._zoomStart+r;return S._zoomAround?{centerStep:S.calculateZoomCenter(S._centerStart,S._zoomAround,S._zoomStart,i),zoomStep:i}:{centerStep:[S._centerStart[0]+(S._centerTarget[0]-S._centerStart[0])*a,S._centerStart[1]+(S._centerTarget[1]-S._centerStart[1])*a],zoomStep:i}},S.animate=function(t){if(!S._animationEnd||t>=S._animationEnd)S._isAnimating=!1,S.setCenterZoom(S._centerTarget,S._zoomTarget,!0),S.onAnimationStop();else{var e=S.animationStep(t),n=e.centerStep,o=e.zoomStep;S.setCenterZoom(n,o),S._animFrame=j(S.animate)}},S.stopAnimating=function(){S._isAnimating&&(S._isAnimating=!1,S.onAnimationStop(),P(S._animFrame))},S.limitCenterAtZoom=function(t,e){var n=S.getBoundsMinMax(e||S.state.zoom);return[Math.max(Math.min(!t||isNaN(t[0])?S.state.center[0]:t[0],n[1]),n[0]),Math.max(Math.min(!t||isNaN(t[1])?S.state.center[1]:t[1],n[3]),n[2])]},S.onAnimationStart=function(){S.props.onAnimationStart&&S.props.onAnimationStart()},S.onAnimationStop=function(){S.props.onAnimationStop&&S.props.onAnimationStop()},S.setCenterZoom=function(t,e,n){void 0===n&&(n=!1);var o=S.limitCenterAtZoom(t,e);if(e&&Math.round(S.state.zoom)!==Math.round(e)){var a=S.tileValues(S.state),r=S.tileValues({center:o,zoom:e,width:S.state.width,height:S.state.height}),i=S.state.oldTiles;S.setState({oldTiles:i.filter(function(t){return t.roundedZoom!==a.roundedZoom}).concat(a)},_);for(var s={},c=r.tileMinX;c<=r.tileMaxX;c++)for(var l=r.tileMinY;l<=r.tileMaxY;l++){s[c+"-"+l+"-"+r.roundedZoom]=!1}S._loadTracker=s}S.setState({center:o,zoom:e||S.state.zoom},_);var u=S.props.zoom?S.props.zoom:S._lastZoom,p=S.props.center?S.props.center:S._lastCenter;e&&(n||Math.abs(u-e)>.001||Math.abs(p[0]-o[0])>1e-5||Math.abs(p[1]-o[1])>1e-5)&&(S._lastZoom=e,S._lastCenter=[].concat(o),S.syncToProps(o,e))},S.getBoundsMinMax=function(t){if("center"===S.props.limitBounds)return k;var e=S.state,n=e.width,o=e.height;if(S._minMaxCache&&S._minMaxCache[0]===t&&S._minMaxCache[1]===n&&S._minMaxCache[2]===o)return S._minMaxCache[3];var a=256*Math.pow(2,t),r=n>a?0:M(n/512,t),i=o>a?0:x(Math.pow(2,t)-o/512,t),s=n>a?0:M(Math.pow(2,t)-n/512,t),c=[i,o>a?0:x(o/512,t),r,s];return S._minMaxCache=[t,n,o,c],c},S.imageLoaded=function(t){S._loadTracker&&t in S._loadTracker&&(S._loadTracker[t]=!0,0===Object.values(S._loadTracker).filter(function(t){return!t}).length&&S.setState({oldTiles:[]},_))},S.handleTouchStart=function(t){if(S._containerRef&&(!t.target||!c(t.target,"pigeon-drag-block")))if(1===t.touches.length){var e=t.touches[0],n=O(S._containerRef,e);if(S.coordsInside(n)&&(S._touchStartPixel=[n],!S.props.twoFingerDrag))if(S.stopAnimating(),S._lastTap&&T()-S._lastTap<v){t.preventDefault();var o=S.pixelToLatLng(S._touchStartPixel[0]);S.setCenterZoomTarget(null,Math.max(S.props.minZoom,Math.min(S.state.zoom+1,S.props.maxZoom)),!1,o)}else S._lastTap=T(),S.trackMoveEvents(n)}else if(2===t.touches.length&&S._touchStartPixel){t.preventDefault(),S.stopTrackingMoveEvents(),(S.state.pixelDelta||S.state.zoomDelta)&&S.sendDeltaChange();var a=O(S._containerRef,t.touches[0]),r=O(S._containerRef,t.touches[1]);S._touchStartPixel=[a,r],S._touchStartMidPoint=[(a[0]+r[0])/2,(a[1]+r[1])/2],S._touchStartDistance=Math.sqrt(Math.pow(a[0]-r[0],2)+Math.pow(a[1]-r[1],2))}},S.handleTouchMove=function(t){if(S._containerRef){if(1===t.touches.length&&S._touchStartPixel){var e=t.touches[0],n=O(S._containerRef,e);S.props.twoFingerDrag?S.coordsInside(n)&&S.showWarning("fingers"):(t.preventDefault(),S.trackMoveEvents(n),S.setState({pixelDelta:[n[0]-S._touchStartPixel[0][0],n[1]-S._touchStartPixel[0][1]]},_))}else if(2===t.touches.length&&S._touchStartPixel&&S._touchStartMidPoint&&S._touchStartDistance){var o=S.state,a=o.width,r=o.height,i=o.zoom;t.preventDefault();var s=O(S._containerRef,t.touches[0]),c=O(S._containerRef,t.touches[1]),l=[(s[0]+c[0])/2,(s[1]+c[1])/2],u=[l[0]-S._touchStartMidPoint[0],l[1]-S._touchStartMidPoint[1]],p=Math.sqrt(Math.pow(s[0]-c[0],2)+Math.pow(s[1]-c[1],2)),f=Math.max(S.props.minZoom,Math.min(S.props.maxZoom,i+Math.log2(p/S._touchStartDistance)))-i,d=Math.pow(2,f),h=[(a/2-l[0])*(d-1),(r/2-l[1])*(d-1)];S.setState({zoomDelta:f,pixelDelta:[h[0]+u[0]*d,h[1]+u[1]*d]},_)}}else S._touchStartPixel=null},S.handleTouchEnd=function(t){if(S._containerRef){if(S._touchStartPixel){var e=S.props,n=e.zoomSnap,o=e.twoFingerDrag,a=e.minZoom,r=e.maxZoom,i=S.state.zoomDelta,s=S.sendDeltaChange(),c=s.center,l=s.zoom;if(0===t.touches.length)if(o)S.clearWarning();else{var u=S._touchStartPixel[0],p=O(S._containerRef,t.changedTouches[0]);(Math.abs(u[0]-p[0])>m||Math.abs(u[1]-p[1])>m)&&(!S._secondTouchEnd||T()-S._secondTouchEnd>y)&&(t.preventDefault(),S.throwAfterMoving(p,c,l)),S._touchStartPixel=null,S._secondTouchEnd=null}else if(1===t.touches.length){t.preventDefault();var f=O(S._containerRef,t.touches[0]);if(S._secondTouchEnd=T(),S._touchStartPixel=[f],S.trackMoveEvents(f),n){var d,h=S._touchStartMidPoint?S.pixelToLatLng(S._touchStartMidPoint):S.state.center;d=o&&Math.round(S.state.zoom)===Math.round(S.state.zoom+i)?Math.round(S.state.zoom):i>0?Math.ceil(S.state.zoom):Math.floor(S.state.zoom);var v=Math.max(a,Math.min(d,r));S.setCenterZoomTarget(h,v,!1,h)}}}}else S._touchStartPixel=null},S.handleMouseDown=function(t){if(S._containerRef){var e=O(S._containerRef,t);if(0===t.button&&(!t.target||!c(t.target,"pigeon-drag-block"))&&S.coordsInside(e))if(S.stopAnimating(),t.preventDefault(),S._lastClick&&T()-S._lastClick<v){if(!c(t.target,"pigeon-click-block")){var n=S.pixelToLatLng(S._mousePosition||e);S.setCenterZoomTarget(null,Math.max(S.props.minZoom,Math.min(S.state.zoom+1,S.props.maxZoom)),!1,n)}}else S._lastClick=T(),S._mouseDown=!0,S._dragStart=e,S.trackMoveEvents(e)}},S.handleMouseMove=function(t){S._containerRef&&(S._mousePosition=O(S._containerRef,t),S._mouseDown&&S._dragStart&&(S.trackMoveEvents(S._mousePosition),S.setState({pixelDelta:[S._mousePosition[0]-S._dragStart[0],S._mousePosition[1]-S._dragStart[1]]},_)))},S.handleMouseUp=function(t){if(S._containerRef){var e=S.state.pixelDelta;if(S._mouseDown){S._mouseDown=!1;var n=O(S._containerRef,t);if(!S.props.onClick||t.target&&c(t.target,"pigeon-click-block")||e&&!(Math.abs(e[0])+Math.abs(e[1])<=m)){var o=S.sendDeltaChange(),a=o.center,r=o.zoom;S.throwAfterMoving(n,a,r)}else{var i=S.pixelToLatLng(n);S.props.onClick({event:t,latLng:i,pixel:n}),S.setState({pixelDelta:void 0},_)}}}else S._mouseDown=!1},S.stopTrackingMoveEvents=function(){S._moveEvents=[]},S.trackMoveEvents=function(t){var e=T();(0===S._moveEvents.length||e-S._moveEvents[S._moveEvents.length-1].timestamp>40)&&(S._moveEvents.push({timestamp:e,coords:t}),S._moveEvents.length>2&&S._moveEvents.shift())},S.throwAfterMoving=function(t,e,n){var o=S.state,a=o.width,r=o.height,i=S.props.animate,s=T(),c=S._moveEvents.shift();if(c&&i){var l=Math.max(s-c.timestamp,1),u=[(t[0]-c.coords[0])/l*120,(t[1]-c.coords[1])/l*120],p=Math.sqrt(u[0]*u[0]+u[1]*u[1]);if(p>h){var d=Math.sqrt(a*a+r*r),m=f*p/d,v=M(w(e[1],n)-u[0]/256,n),g=x(E(e[0],n)-u[1]/256,n);S.setCenterZoomTarget([g,v],n,!1,null,m)}}S.stopTrackingMoveEvents()},S.sendDeltaChange=function(){var t=S.state,e=t.center,n=t.zoom,o=t.pixelDelta,a=t.zoomDelta,r=e[0],i=e[1];return(o||0!==a)&&(i=M(w(e[1],n+a)-(o?o[0]/256:0),n+a),r=x(E(e[0],n+a)-(o?o[1]/256:0),n+a),S.setCenterZoom([r,i],n+a)),S.setState({pixelDelta:void 0,zoomDelta:0},_),{center:S.limitCenterAtZoom([r,i],n+a),zoom:n+a}},S.getBounds=function(t,e){void 0===t&&(t=S.state.center),void 0===e&&(e=S.zoomPlusDelta());var n=S.state,o=n.width,a=n.height;return{ne:S.pixelToLatLng([o-1,0],t,e),sw:S.pixelToLatLng([0,a-1],t,e)}},S.syncToProps=function(t,e){void 0===t&&(t=S.state.center),void 0===e&&(e=S.state.zoom);var n=S.props.onBoundsChanged;n&&(n({center:t,zoom:e,bounds:S.getBounds(t,e),initial:!S._boundsSynced}),S._boundsSynced=!0)},S.handleWheel=function(t){var e=S.props,n=e.mouseEvents,o=e.metaWheelZoom,a=e.zoomSnap,r=e.animate;if(n)if(!o||t.metaKey||t.ctrlKey){t.preventDefault();var i=-t.deltaY/d;if(!a&&S._zoomTarget){var s=S._zoomTarget-S.state.zoom;S.zoomAroundMouse(i+s,t)}else r?S.zoomAroundMouse(i,t):(!S._lastWheel||T()-S._lastWheel>p)&&(S._lastWheel=T(),S.zoomAroundMouse(i,t))}else S.showWarning("wheel")},S.showWarning=function(t){S.state.showWarning&&S.state.warningType===t||S.setState({showWarning:!0,warningType:t}),S._warningClearTimeout&&window.clearTimeout(S._warningClearTimeout),S._warningClearTimeout=window.setTimeout(S.clearWarning,b)},S.clearWarning=function(){S.state.showWarning&&S.setState({showWarning:!1})},S.zoomAroundMouse=function(t,e){if(S._containerRef){var n=S.state.zoom,o=S.props,a=o.minZoom,r=o.maxZoom,i=o.zoomSnap;if(S._mousePosition=O(S._containerRef,e),!(!S._mousePosition||n===a&&t<0||n===r&&t>0)){var s=S.pixelToLatLng(S._mousePosition),c=n+t;i&&(c=t<0?Math.floor(c):Math.ceil(c)),c=Math.max(a,Math.min(c,r)),S.setCenterZoomTarget(null,c,!1,s)}}},S.zoomPlusDelta=function(){return S.state.zoom+S.state.zoomDelta},S.pixelToLatLng=function(t,e,n){void 0===e&&(e=S.state.center),void 0===n&&(n=S.zoomPlusDelta());var o=S.state,a=o.width,r=o.height,i=o.pixelDelta,s=[(t[0]-a/2-(i?i[0]:0))/256,(t[1]-r/2-(i?i[1]:0))/256],c=w(e[1],n)+s[0],l=E(e[0],n)+s[1];return[Math.max(k[0],Math.min(k[1],x(l,n))),Math.max(k[2],Math.min(k[3],M(c,n)))]},S.latLngToPixel=function(t,e,n){void 0===e&&(e=S.state.center),void 0===n&&(n=S.zoomPlusDelta());var o=S.state,a=o.width,r=o.height,i=o.pixelDelta,s=w(e[1],n),c=E(e[0],n),l=w(t[1],n),u=E(t[0],n);return[256*(l-s)+a/2+(i?i[0]:0),256*(u-c)+r/2+(i?i[1]:0)]},S.calculateZoomCenter=function(t,e,n,o){var a=S.state,r=a.width,i=a.height,s=S.latLngToPixel(e,t,n),c=S.latLngToPixel(e,t,o),l=S.pixelToLatLng([r/2+c[0]-s[0],i/2+c[1]-s[1]],t,o);return S.limitCenterAtZoom(l,o)},S.setRef=function(t){S._containerRef=t},S.syncToProps=(C=S.syncToProps,z=g,function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var o=this;clearTimeout(R),R=setTimeout(function(){return C.apply(o,e)},z)}),S._lastZoom=null!==(n=null!==(o=e.defaultZoom)&&void 0!==o?o:e.zoom)&&void 0!==n?n:14,S._lastCenter=null!==(a=null!==(r=e.defaultCenter)&&void 0!==r?r:e.center)&&void 0!==a?a:[0,0],S.state={zoom:S._lastZoom,center:S._lastCenter,width:null!==(i=null!==(s=e.width)&&void 0!==s?s:e.defaultWidth)&&void 0!==i?i:-1,height:null!==(l=null!==(u=e.height)&&void 0!==u?u:e.defaultHeight)&&void 0!==l?l:-1,zoomDelta:0,pixelDelta:void 0,oldTiles:[],showWarning:!1,warningType:void 0},S}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r=o.prototype;return r.componentDidMount=function(){var t=this;this.props.mouseEvents&&this.bindMouseEvents(),this.props.touchEvents&&this.bindTouchEvents(),this.props.width&&this.props.height||(this.updateWidthHeight()||j(this.updateWidthHeight),this.bindResizeEvent()),this.bindWheelEvent(),this.syncToProps(),void 0!==window.ResizeObserver&&(this._resizeObserver=new window.ResizeObserver(function(){t.updateWidthHeight()}),this._resizeObserver.observe(this._containerRef))},r.componentWillUnmount=function(){this.props.mouseEvents&&this.unbindMouseEvents(),this.props.touchEvents&&this.unbindTouchEvents(),this.unbindWheelEvent(),this.props.width&&this.props.height||this.unbindResizeEvent(),this._resizeObserver&&this._resizeObserver.disconnect()},r.componentDidUpdate=function(t){var e;if(this.props.mouseEvents!==t.mouseEvents&&(this.props.mouseEvents?this.bindMouseEvents():this.unbindMouseEvents()),this.props.touchEvents!==t.touchEvents&&(this.props.touchEvents?this.bindTouchEvents():this.unbindTouchEvents()),this.props.width&&this.props.width!==t.width&&this.setState({width:this.props.width}),this.props.height&&this.props.height!==t.height&&this.setState({height:this.props.height}),(this.props.center||this.props.zoom)&&(this.props.center&&(this.props.center[0]!==(null===t||void 0===t?void 0:null===(e=t.center)||void 0===e?void 0:e[0])||this.props.center[1]!==t.center[1])||this.props.zoom!==t.zoom)){var n=this._isAnimating?this._centerTarget:this.state.center,o=this._isAnimating?this._zoomTarget:this.state.zoom;if(n&&o){var a,r,i=null!==(a=this.props.center)&&void 0!==a?a:n,s=null!==(r=this.props.zoom)&&void 0!==r?r:o;(Math.abs(s-o)>.001||Math.abs(i[0]-n[0])>1e-4||Math.abs(i[1]-n[1])>1e-4)&&this.setCenterZoomTarget(i,s,!0)}}},r.coordsInside=function(t){var e=this.state,n=e.width,o=e.height;if(t[0]<0||t[1]<0||t[0]>=n||t[1]>=o)return!1;var a=this._containerRef;if(a){var r=l(a),i=document.elementFromPoint(t[0]+r.x,t[1]+r.y);return a===i||a.contains(i)}return!1},r.tileValues=function(t){var e=t.center,n=t.zoom,o=t.pixelDelta,a=t.zoomDelta,r=t.width,i=t.height,s=Math.round(n+(a||0)),c=n+(a||0)-s,l=Math.pow(2,c),u=r/l,p=i/l,f=w(e[1],s)-(o?o[0]/256/l:0),d=E(e[0],s)-(o?o[1]/256/l:0),h=u/2/256,m=p/2/256;return{tileMinX:Math.floor(f-h),tileMaxX:Math.floor(f+h),tileMinY:Math.floor(d-m),tileMaxY:Math.floor(d+m),tileCenterX:f,tileCenterY:d,roundedZoom:s,zoomDelta:a||0,scaleWidth:u,scaleHeight:p,scale:l}},r.renderTiles=function(){for(var t=this,e=this.state,n=e.oldTiles,o=e.width,r=e.height,i=this.props.dprs,s=this.props.provider||u,c=this.tileValues(this.state),l=c.tileMinX,p=c.tileMaxX,f=c.tileMinY,d=c.tileMaxY,h=c.tileCenterX,m=c.tileCenterY,v=c.roundedZoom,g=c.scaleWidth,y=c.scaleHeight,b=c.scale,_=[],w=0;w<n.length;w++){var E=n[w],M=E.roundedZoom-v;if(!(Math.abs(M)>4||0===M))for(var x=1/Math.pow(2,M),O=256*-(l-E.tileMinX*x),S=256*-(f-E.tileMinY*x),k=Math.max(E.tileMinX,0),C=Math.max(E.tileMinY,0),T=Math.min(E.tileMaxX,Math.pow(2,E.roundedZoom)-1),j=Math.min(E.tileMaxY,Math.pow(2,E.roundedZoom)-1),P=k;P<=T;P++)for(var R=C;R<=j;R++)_.push({key:P+"-"+R+"-"+E.roundedZoom,url:s(P,R,E.roundedZoom),srcSet:z(i,s,P,R,E.roundedZoom),left:O+256*(P-E.tileMinX)*x,top:S+256*(R-E.tileMinY)*x,width:256*x,height:256*x,active:!1})}for(var D=Math.max(l,0),N=Math.max(f,0),A=Math.min(p,Math.pow(2,v)-1),Z=Math.min(d,Math.pow(2,v)-1),L=D;L<=A;L++)for(var W=N;W<=Z;W++)_.push({key:L+"-"+W+"-"+v,url:s(L,W,v),srcSet:z(i,s,L,W,v),left:256*(L-l),top:256*(W-f),width:256,height:256,active:!0});var B={width:g,height:y,position:"absolute",top:"calc((100% - "+r+"px) / 2)",left:"calc((100% - "+o+"px) / 2)",overflow:"hidden",willChange:"transform",transform:"scale("+b+", "+b+")",transformOrigin:"top left"},I=this.props.boxClassname||"pigeon-tiles-box",F={position:"absolute",width:256*(p-l+1),height:256*(d-f+1),willChange:"transform",transform:"translate("+-(256*(h-l)-g/2)+"px, "+-(256*(m-f)-y/2)+"px)"};return a.a.createElement("div",{style:B,className:I},a.a.createElement("div",{className:"pigeon-tiles",style:F},_.map(function(e){return a.a.createElement("img",{key:e.key,src:e.url,srcSet:e.srcSet,width:e.width,height:e.height,loading:"lazy",onLoad:function(){return t.imageLoaded(e.key)},alt:"",style:{position:"absolute",left:e.left,top:e.top,willChange:"transform",transformOrigin:"top left",opacity:1}})})))},r.renderOverlays=function(){var t=this,e=this.state,n=e.width,o=e.height,r=e.center,i={bounds:this.getBounds(),zoom:this.zoomPlusDelta(),center:r,width:n,height:o},s=a.a.Children.map(this.props.children,function(e){if(!e)return null;if(!a.a.isValidElement(e))return e;var n=e.props,o=n.anchor,s=n.position,c=n.offset,l=t.latLngToPixel(o||s||r);return a.a.cloneElement(e,{left:l[0]-(c?c[0]:0),top:l[1]-(c?c[1]:0),latLngToPixel:t.latLngToPixel,pixelToLatLng:t.pixelToLatLng,setCenterZoom:t.setCenterZoomForChildren,mapProps:t.props,mapState:i})}),c={position:"absolute",width:n,height:o,top:"calc((100% - "+o+"px) / 2)",left:"calc((100% - "+n+"px) / 2)"};return a.a.createElement("div",{className:"pigeon-overlays",style:c},s)},r.renderAttribution=function(){var t=this.props,e=t.attribution,n=t.attributionPrefix;if(!1===e)return null;var o={color:"#0078A8",textDecoration:"none"};return a.a.createElement("div",{key:"attr",className:"pigeon-attribution",style:{position:"absolute",bottom:0,right:0,fontSize:"11px",padding:"2px 5px",background:"rgba(255, 255, 255, 0.7)",fontFamily:"'Helvetica Neue', Helvetica, Arial, sans-serif",color:"#333"}},!1===n?null:a.a.createElement("span",null,n||a.a.createElement("a",{href:"https://pigeon-maps.js.org/",style:o,target:"_blank",rel:"noreferrer noopener"},"Pigeon")," | "),e||a.a.createElement("span",null," \xa9 ",a.a.createElement("a",{href:"https://www.openstreetmap.org/copyright",style:o,target:"_blank",rel:"noreferrer noopener"},"OpenStreetMap")," contributors"))},r.renderWarning=function(){var t=this.props,e=t.metaWheelZoom,n=t.metaWheelZoomWarning,o=t.twoFingerDrag,r=t.twoFingerDragWarning,i=t.warningZIndex,s=this.state,c=s.showWarning,l=s.warningType,u=s.width,p=s.height;if(e&&n||o&&r){var f={position:"absolute",top:0,left:0,width:u,height:p,overflow:"hidden",pointerEvents:"none",opacity:c?100:0,transition:"opacity 300ms",background:"rgba(0,0,0,0.5)",color:"#fff",display:"flex",justifyContent:"center",alignItems:"center",fontSize:22,fontFamily:'"Arial", sans-serif',textAlign:"center",zIndex:i},d="undefined"!=typeof window&&window.navigator&&window.navigator.platform.toUpperCase().indexOf("MAC")>=0?"\u2318":"ctrl",h="fingers"===l?r:n;return a.a.createElement("div",{className:"pigeon-overlay-warning",style:f},h.replace("META",d))}return null},r.render=function(){var t=this.props,e=t.touchEvents,n=t.twoFingerDrag,o=this.state,r=o.width,i=o.height,s={width:this.props.width?r:"100%",height:this.props.height?i:"100%",position:"relative",display:"inline-block",overflow:"hidden",background:"#dddddd",touchAction:e?n?"pan-x pan-y":"none":"auto"},c=!(!r||!i);return a.a.createElement("div",{style:s,ref:this.setRef},c&&this.renderTiles(),c&&this.renderOverlays(),c&&this.renderAttribution(),c&&this.renderWarning())},o}(o.Component);function D(t){var e=void 0!==t.width?t.width:void 0!==t.height?29*t.height/34:29,n=void 0!==t.height?t.height:void 0!==t.width?34*t.width/29:34,r=Object(o.useState)(t.hover||!1),i=r[0],c=r[1],l=void 0===t.hover?i:t.hover,u=t.color||"#93C0D0",p=function(e){return{event:e,anchor:t.anchor,payload:t.payload}};return a.a.createElement("div",{style:s({position:"absolute",transform:"translate("+(t.left-e/2)+"px, "+(t.top-(n-1))+"px)",filter:l?"drop-shadow(0 0 4px rgba(0, 0, 0, .3))":"",pointerEvents:"none",cursor:"pointer"},t.style||{}),className:t.className?t.className+" pigeon-click-block":"pigeon-click-block"},a.a.createElement("svg",{width:e,height:n,viewBox:"0 0 61 71",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("g",{style:{pointerEvents:"auto"},onClick:t.onClick?function(e){return t.onClick(p(e))}:null,onContextMenu:t.onContextMenu?function(e){return t.onContextMenu(p(e))}:null,onMouseOver:function(e){t.onMouseOver&&t.onMouseOver(p(e)),c(!0)},onMouseOut:function(e){t.onMouseOut&&t.onMouseOut(p(e)),c(!1)}},a.a.createElement("path",{d:"M52 31.5C52 36.8395 49.18 42.314 45.0107 47.6094C40.8672 52.872 35.619 57.678 31.1763 61.6922C30.7916 62.0398 30.2084 62.0398 29.8237 61.6922C25.381 57.678 20.1328 52.872 15.9893 47.6094C11.82 42.314 9 36.8395 9 31.5C9 18.5709 18.6801 9 30.5 9C42.3199 9 52 18.5709 52 31.5Z",fill:u,stroke:"white",strokeWidth:"4"}),a.a.createElement("circle",{cx:"30.5",cy:"30.5",r:"8.5",fill:"white",opacity:l?.98:.6}))))}R.defaultProps={animate:!0,metaWheelZoom:!1,metaWheelZoomWarning:"Use META + wheel to zoom!",twoFingerDrag:!1,twoFingerDragWarning:"Use two fingers to move the map",zoomSnap:!0,mouseEvents:!0,touchEvents:!0,warningZIndex:100,animateMaxScreens:5,minZoom:1,maxZoom:18,limitBounds:"center",dprs:[]}}});