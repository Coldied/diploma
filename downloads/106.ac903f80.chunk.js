webpackJsonp([106],{1163:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(0),a=n(1),i=(n.n(a),n(1807)),c=n(15),s=n(8),l=n(100),u=n(12),p=n(10),d=n(38),f=n(71),h=n(1797),m=n(67),b=n(1891),v=n(2382),g=n(35),y=n(40),_=n(43),E=n(16),w=n(72),C=n(5270),S=(n.n(C),n(42)),O=n(97),k=n(107),x=(n.n(k),b.a.recaptchaSiteKey);t.default=Object(c.c)(null,{fetchMetaStart:y.b})(Object(l.b)(v.a)(Object(s.c)("subscription")(function(e){var t=new URLSearchParams(e.location.search),n=t.get("slug"),c=t.get("email"),s=t.get("push")||"",l=Object(w.g)(null!==c?c:""),b=l.email,v=l.setEmail,y=l.error,C=o.f(a.useState(!1),2),N=C[0],L=C[1],R=o.f(a.useState(""),2),j=R[0],I=R[1],P=o.f(a.useState(Object(E.k)(s)),2),T=P[0],U=P[1],A=o.f(a.useState(),2),z=A[0],D=A[1],q=o.f(a.useState({}),2),H=q[0],M=q[1],K=e.contentTypes,W=Object(O.useQueryWithLang)(Object(S.c)(r||(r=o.e(['\n    {\n      langKk: sep_languages(code: "eq:kk", _size: 1) {\n        label: description\n        value: code\n      }\n      langRu: sep_languages(code: "eq:ru", _size: 1) {\n        label: description\n        value: code\n      }\n      langEn: sep_languages(code: "eq:en", _size: 1) {\n        label: description\n        value: code\n      }\n    }\n  '],['\n    {\n      langKk: sep_languages(code: "eq:kk", _size: 1) {\n        label: description\n        value: code\n      }\n      langRu: sep_languages(code: "eq:ru", _size: 1) {\n        label: description\n        value: code\n      }\n      langEn: sep_languages(code: "eq:en", _size: 1) {\n        label: description\n        value: code\n      }\n    }\n  '])))).data,G=void 0===W?{}:W,B=Object.keys(G).reduce(function(e,t){return o.h(e,G[t])},[]);a.useEffect(function(){e.fetchMetaStart(o.a({},_.d,{title:"\u041f\u043e\u0434\u043f\u0438\u0441\u043a\u0430 \u043d\u0430 \u0440\u0430\u0441\u0441\u044b\u043b\u043a\u0443",url:e.location.pathname}),null,!0)},[e.location.pathname]),a.useEffect(function(){var e=Object.entries(H).some(function(e){return!0===o.f(e,2)[1]});D(!!(b&&j&&N&&n&&e))},[b,j,N,n,H]),a.useEffect(function(){var e=Object.fromEntries(K.map(function(e){return[e.id,!1]}));M(o.a({},H,e))},[K]);var J=function(e,t){var n;M(o.a({},H,((n={})[e]=t,n)))};return a.createElement("div",{className:"container"},a.createElement(d.default,{title:e.t("subscribeToContent"),titleLarge:!0},a.createElement("div",{className:"row mb-5"},a.createElement("div",{className:"col-md-6"},a.createElement(u.a,{variant:"body",className:"mb-2"},e.t("subscribeToContentDescription"))),a.createElement("div",{className:"col-md-6 mt-4 mt-md-0"},a.createElement(m.a,{outlined:!0,value:b,placeholder:e.t("enterEmailAddress"),onChange:function(e){v(e.target.value)},error:y}),a.createElement(f.a,{isChecked:T,checkboxId:1,variant:"linksub",label:e.t("receivePushNotifications"),selectCheckbox:function(e,t){return U(t)},className:"mt-3"}))),a.createElement("div",{className:"row mb-5"},a.createElement("div",{className:"col-md-6"},a.createElement(u.a,{variant:"h3",className:"mb-2"},e.t("selectSubscribeLanguage"))),a.createElement("div",{className:"col-md-6"},a.createElement(g.default,{loading:!B.length},a.createElement(h.a,{formInputs:B,selectRadio:function(e){return I(e)},value:{label:"\u049a\u0430\u0437\u0430\u049b\u0448\u0430",value:"KZ"}})))),a.createElement("div",{className:"row mb-5"},a.createElement("div",{className:"col-md-6"},a.createElement(u.a,{variant:"h3",className:"mb-2"},e.t("selectSubscribeCategory"))),a.createElement("div",{className:"col-md-6"},a.createElement(g.default,{loading:!K.length},K&&K.length>0&&K.map(function(e,t){var n=e.id,r=e.description;return a.createElement(f.a,{label:r,key:t,checkboxId:n,className:"mb-1",isChecked:H[n],selectCheckbox:J})})))),a.createElement("div",{className:"row mb-5"},a.createElement("div",{className:"col-md-6"},a.createElement(u.a,{variant:"h3",className:"mb-2"}," ")),a.createElement("div",{className:"col-md-6"},a.createElement(i.a,{onChange:function(){return L(!0)},sitekey:x}))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-6"}),a.createElement("div",{className:"offset-md-3 col-md-3"},a.createElement(p.a,{ripple:!0,color:"blue",className:"fill_w subscribe__confirm",disabled:!z,onClick:function(){var t,r=(t=H,K.filter(function(e){var n=e.id;return t[n]}).map(function(e){return e.slug}));e.onConfirmClick(r,b,n,j),T&&e.onPushNotificationAllowed&&e.onPushNotificationAllowed(r,n,j),e.history.push({pathname:"/subscribe/success",search:"?"+k.stringify({email:b,slug:n})})}},e.t("toSubscribe"))))))})))},1669:function(e,t,n){"use strict";var r=n(1),o=n.n(r),a=n(17),i=n.n(a),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var s=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return n.handleExpired=n.handleExpired.bind(n),n.handleErrored=n.handleErrored.bind(n),n.handleRecaptchaRef=n.handleRecaptchaRef.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getValue=function(){return this.props.grecaptcha&&void 0!==this._widgetId?this.props.grecaptcha.getResponse(this._widgetId):null},t.prototype.getWidgetId=function(){return this.props.grecaptcha&&void 0!==this._widgetId?this._widgetId:null},t.prototype.execute=function(){var e=this.props.grecaptcha;if(e&&void 0!==this._widgetId)return e.execute(this._widgetId);this._executeRequested=!0},t.prototype.reset=function(){this.props.grecaptcha&&void 0!==this._widgetId&&this.props.grecaptcha.reset(this._widgetId)},t.prototype.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.props.onChange&&this.props.onChange(null)},t.prototype.handleErrored=function(){this.props.onErrored&&this.props.onErrored()},t.prototype.explicitRender=function(){if(this.props.grecaptcha&&this.props.grecaptcha.render&&void 0===this._widgetId){var e=document.createElement("div");this._widgetId=this.props.grecaptcha.render(e,{sitekey:this.props.sitekey,callback:this.props.onChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,badge:this.props.badge}),this.captcha.appendChild(e)}this._executeRequested&&this.props.grecaptcha&&void 0!==this._widgetId&&(this._executeRequested=!1,this.execute())},t.prototype.componentDidMount=function(){this.explicitRender()},t.prototype.componentDidUpdate=function(){this.explicitRender()},t.prototype.componentWillUnmount=function(){void 0!==this._widgetId&&(this.delayOfCaptchaIframeRemoving(),this.reset())},t.prototype.delayOfCaptchaIframeRemoving=function(){var e=document.createElement("div");for(document.body.appendChild(e),e.style.display="none";this.captcha.firstChild;)e.appendChild(this.captcha.firstChild);setTimeout(function(){document.body.removeChild(e)},5e3)},t.prototype.handleRecaptchaRef=function(e){this.captcha=e},t.prototype.render=function(){var e=this.props,t=(e.sitekey,e.onChange,e.theme,e.type,e.tabindex,e.onExpired,e.onErrored,e.size,e.stoken,e.grecaptcha,e.badge,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge"]));return o.a.createElement("div",c({},t,{ref:this.handleRecaptchaRef}))},t}(o.a.Component);t.a=s,s.displayName="ReCAPTCHA",s.propTypes={sitekey:i.a.string.isRequired,onChange:i.a.func,grecaptcha:i.a.object,theme:i.a.oneOf(["dark","light"]),type:i.a.oneOf(["image","audio"]),tabindex:i.a.number,onExpired:i.a.func,onErrored:i.a.func,size:i.a.oneOf(["compact","normal","invisible"]),stoken:i.a.string,badge:i.a.oneOf(["bottomright","bottomleft","inline"])},s.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"}},1797:function(e,t,n){"use strict";var r=n(0),o=n(1),a=(n.n(o),n(11)),i=n.n(a),c=n(12),s=n(1798),l=(n.n(s),function(e){function t(t){var n=e.call(this,t)||this;return n.handleOptionChange=function(e,t){return function(){var r=n.props.selectRadio;n.setState({value:e},function(){return r&&r(e,t)})}},n.state={value:""},n}return r.c(t,e),t.prototype.componentDidMount=function(){var e=this.props.value;e&&this.setState({value:e.value})},t.prototype.render=function(){var e=this,t=this.props.label;return o.createElement("div",null,t&&o.createElement(c.a,{variant:"body",className:"mb-2"},t),o.createElement("div",{className:i()("form-input-radio-buttons",{"d-flex":this.props.flexHorizontal})},this.props.formInputs.map(function(t,n){return o.createElement("div",{key:n,className:"form-input-radio-buttons__item"},o.createElement("label",{className:"d-flex pointer"},o.createElement("input",{type:"radio",value:t.value,checked:e.props.selected===t.value||e.state.value===t.value,onChange:e.handleOptionChange(t.value,t.label),className:"form-input-radio-buttons__item__checkbox"}),o.createElement("span",{className:"form-input-radio-buttons__item__checkmark"}),o.createElement(c.a,{variant:"link",className:"form-input-radio-buttons__item__label",onClick:e.handleOptionChange(t.value,t.label)},t.label)))})))},t}(o.Component));t.a=l},1798:function(e,t,n){var r=n(1799);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!1,transform:void 0};n(1053)(r,o);r.locals&&(e.exports=r.locals)},1799:function(e,t,n){(e.exports=n(1052)(!1)).push([e.i,".form-input-radio-buttons .form-input-radio-buttons__item {\n  display: block;\n  position: relative;\n  margin-right: 32px;\n  margin-bottom: 8px; }\n  .form-input-radio-buttons .form-input-radio-buttons__item .form-input-radio-buttons__item__checkbox {\n    opacity: 0;\n    position: absolute; }\n  .form-input-radio-buttons .form-input-radio-buttons__item .form-input-radio-buttons__item__checkmark {\n    height: 20px;\n    width: 20px;\n    border: 2px solid #1565C0;\n    border-radius: 50%;\n    left: 0;\n    position: absolute;\n    top: 0; }\n    .form-input-radio-buttons .form-input-radio-buttons__item .form-input-radio-buttons__item__checkmark::after {\n      content: '';\n      display: none;\n      position: absolute;\n      width: 12px;\n      height: 12px;\n      top: 2px;\n      left: 0;\n      right: 0;\n      margin: 0 auto;\n      background-color: #1565C0;\n      border-radius: 50%; }\n  .form-input-radio-buttons .form-input-radio-buttons__item .form-input-radio-buttons__item__label {\n    margin-left: 28px; }\n  .form-input-radio-buttons .form-input-radio-buttons__item .form-input-radio-buttons__item__checkbox:checked ~ .form-input-radio-buttons__item__checkmark::after {\n    display: block; }\n",""])},1807:function(e,t,n){"use strict";var r=n(1878);n(1669);t.a=r.a},1878:function(e,t,n){"use strict";var r=n(1669),o=n(1879),a=n.n(o);function i(){return"undefined"!=typeof window&&window.recaptchaOptions||{}}var c="onloadcallback",s=i();t.a=a()(function(){var e=i(),t=e.lang?"&hl="+e.lang:"";return"https://"+(e.useRecaptchaNet?"recaptcha.net":"www.google.com")+"/recaptcha/api.js?onload="+c+"&render=explicit"+t},{callbackName:c,globalName:"grecaptcha",removeOnUnmount:s.removeOnUnmount||!1})(r.a)},1879:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e,t){return t=t||{},function(n){var c=n.displayName||n.name||"Component",u=function(r){function a(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,r.call(this,e,t));return n.state={},n.__scriptURL="",n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,r),a.prototype.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+l++),this.__scriptLoaderID},a.prototype.setupScriptURL=function(){return this.__scriptURL="function"==typeof e?e():e,this.__scriptURL},a.prototype.asyncScriptLoaderHandleLoad=function(e){var t=this;this.setState(e,function(){return t.props.asyncScriptOnLoad&&t.props.asyncScriptOnLoad(t.state)})},a.prototype.asyncScriptLoaderTriggerOnScriptLoaded=function(){var e=s[this.__scriptURL];if(!e||!e.loaded)throw new Error("Script is not loaded.");for(var n in e.observers)e.observers[n](e);delete window[t.callbackName]},a.prototype.componentDidMount=function(){var e=this,n=this.setupScriptURL(),r=this.asyncScriptLoaderGetScriptLoaderID(),o=t,a=o.globalName,i=o.callbackName,c=o.scriptId;if(a&&void 0!==window[a]&&(s[n]={loaded:!0,observers:{}}),s[n]){var l=s[n];return l&&(l.loaded||l.errored)?void this.asyncScriptLoaderHandleLoad(l):void(l.observers[r]=function(t){return e.asyncScriptLoaderHandleLoad(t)})}var u={};u[r]=function(t){return e.asyncScriptLoaderHandleLoad(t)},s[n]={loaded:!1,observers:u};var p=document.createElement("script");p.src=n,p.async=!0,c&&(p.id=c);var d=function(e){if(s[n]){var t=s[n].observers;for(var r in t)e(t[r])&&delete t[r]}};i&&"undefined"!=typeof window&&(window[i]=function(){return e.asyncScriptLoaderTriggerOnScriptLoaded()}),p.onload=function(){var e=s[n];e&&(e.loaded=!0,d(function(t){return!i&&(t(e),!0)}))},p.onerror=function(){var e=s[n];e&&(e.errored=!0,d(function(t){return t(e),!0}))},document.body.appendChild(p)},a.prototype.componentWillUnmount=function(){var e=this.__scriptURL;if(!0===t.removeOnUnmount)for(var n=document.getElementsByTagName("script"),r=0;r<n.length;r+=1)n[r].src.indexOf(e)>-1&&n[r].parentNode&&n[r].parentNode.removeChild(n[r]);var o=s[e];o&&(delete o.observers[this.asyncScriptLoaderGetScriptLoaderID()],!0===t.removeOnUnmount&&delete s[e])},a.prototype.render=function(){var e=t.globalName,r=this.props,a=(r.asyncScriptOnLoad,r.forwardedRef),i=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(r,["asyncScriptOnLoad","forwardedRef"]);return e&&"undefined"!=typeof window&&(i[e]=void 0!==window[e]?window[e]:void 0),i.ref=a,(0,o.createElement)(n,i)},a}(o.Component),p=(0,o.forwardRef)(function(e,t){return(0,o.createElement)(u,r({},e,{forwardedRef:t}))});return p.displayName="AsyncScriptLoader("+c+")",p.propTypes={asyncScriptOnLoad:a.default.func},(0,i.default)(p,n)}};var o=n(1),a=c(n(17)),i=c(n(188));function c(e){return e&&e.__esModule?e:{default:e}}var s={},l=0},1891:function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e.recaptchaSiteKey="6LdEsKUUAAAAAPi5dCLMyuwRhhIYNv1PotthNat0"}(r||(r={}))},2382:function(e,t,n){"use strict";var r=n(0),o=n(1),a=(n.n(o),n(8)),i=n(15),c=n(16),s=n(21),l=n(336),u=this;t.a=Object(i.c)(function(e){return{contentTypes:e.confirm.data.contentTypes,loading:e.confirm.loading,languages:e.language.data,lastAction:e.confirm.lastAction}},{fetchConfirmEmailStart:l.b,fetchConfirmHashStart:l.d,fetchUnsubscribeConfirmStart:l.l,fetchConfirmPushNotificationStart:l.f,fetchSubscribableContentTypesStart:l.i})(Object(a.c)()(function(e){o.useEffect(function(){e.fetchSubscribableContentTypesStart&&e.fetchSubscribableContentTypesStart()},[]);return Object(s.a)(e.children,r.a({},Object(c.c)(r.a({},e),"children"),{onConfirmClick:function(t,n,o,a){return r.b(u,void 0,void 0,function(){return r.d(this,function(r){return t&&n&&o&&a&&e.fetchConfirmEmailStart&&e.fetchConfirmEmailStart({contentTypes:t,email:n,slug:o,lang:a}),[2]})})},onPushNotificationAllowed:function(t,n,r){t&&n&&r&&e.fetchConfirmPushNotificationStart&&e.fetchConfirmPushNotificationStart({contentTypes:t,lang:r,slug:n})},onSendHash:function(t){t&&e.fetchConfirmHashStart&&e.fetchConfirmHashStart({hash:t})},onUnsubscribe:function(t){t&&e.fetchUnsubscribeConfirmStart&&e.fetchUnsubscribeConfirmStart({code:t})}}))}))},5270:function(e,t,n){var r=n(5271);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!1,transform:void 0};n(1053)(r,o);r.locals&&(e.exports=r.locals)},5271:function(e,t,n){(e.exports=n(1052)(!1)).push([e.i,"@media screen and (max-width: 576px) {\n  .subscribe__confirm {\n    padding: 20px; } }\n",""])}});